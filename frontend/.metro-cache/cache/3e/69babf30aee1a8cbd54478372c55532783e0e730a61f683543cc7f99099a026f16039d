{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":42,"index":132}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":34,"index":167}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":215},"end":{"line":5,"column":51,"index":266}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesStorage = require(_dependencyMap[1], \"../services/storage\");\n  var storage = _interopDefault(_servicesStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _servicesSocket = require(_dependencyMap[3], \"../services/socket\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const token = await storage.default.getItem('authToken');\n        if (token) {\n          const response = await api.default.get('/api/auth/me');\n          setUser(response.data);\n\n          // Connect socket\n          await _servicesSocket.socketService.connect();\n        }\n      } catch (error) {\n        console.error('Failed to load user:', error);\n        await storage.default.removeItem('authToken');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        await storage.default.setItem('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password, weeklyAmount) => {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          username,\n          email,\n          password,\n          gambling_weekly_amount: weeklyAmount\n        });\n        await storage.default.setItem('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await storage.default.removeItem('authToken');\n      setUser(null);\n      _servicesSocket.socketService.disconnect();\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":135,"map":[[15,2,18,0,"Object"],[15,8,18,0],[15,9,18,0,"defineProperty"],[15,23,18,0],[15,24,18,0,"exports"],[15,31,18,0],[16,4,18,0,"enumerable"],[16,14,18,0],[17,4,18,0,"get"],[17,7,18,0],[17,18,18,0,"get"],[17,19,18,0],[18,6,18,0],[18,13,18,0,"AuthProvider"],[18,25,18,0],[19,4,18,0],[20,2,18,0],[21,2,102,0,"Object"],[21,8,102,0],[21,9,102,0,"defineProperty"],[21,23,102,0],[21,24,102,0,"exports"],[21,31,102,0],[22,4,102,0,"enumerable"],[22,14,102,0],[23,4,102,0,"get"],[23,7,102,0],[23,18,102,0,"get"],[23,19,102,0],[24,6,102,0],[24,13,102,0,"useAuth"],[24,20,102,0],[25,4,102,0],[26,2,102,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_servicesStorage"],[28,22,2,0],[28,25,2,0,"require"],[28,32,2,0],[28,33,2,0,"_dependencyMap"],[28,47,2,0],[29,2,2,0],[29,6,2,0,"storage"],[29,13,2,0],[29,16,2,0,"_interopDefault"],[29,31,2,0],[29,32,2,0,"_servicesStorage"],[29,48,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,0],[31,6,3,0,"api"],[31,9,3,0],[31,12,3,0,"_interopDefault"],[31,27,3,0],[31,28,3,0,"_servicesApi"],[31,40,3,0],[32,2,5,0],[32,6,5,0,"_servicesSocket"],[32,21,5,0],[32,24,5,0,"require"],[32,31,5,0],[32,32,5,0,"_dependencyMap"],[32,46,5,0],[33,2,5,51],[33,6,5,51,"_reactJsxDevRuntime"],[33,25,5,51],[33,28,5,51,"require"],[33,35,5,51],[33,36,5,51,"_dependencyMap"],[33,50,5,51],[34,2,16,0],[34,8,16,6,"AuthContext"],[34,19,16,17],[34,35,16,20],[34,39,16,20,"createContext"],[34,45,16,33],[34,46,16,33,"createContext"],[34,59,16,33],[34,61,16,63,"undefined"],[34,70,16,72],[34,71,16,73],[35,2,18,7],[35,8,18,13,"AuthProvider"],[35,20,18,25],[35,23,18,28,"AuthProvider"],[35,24,18,29],[36,4,18,31,"children"],[37,2,18,65],[37,3,18,66],[37,8,18,71],[38,4,18,71,"_s"],[38,6,18,71],[39,4,19,2],[39,10,19,8],[39,11,19,9,"user"],[39,15,19,13],[39,17,19,15,"setUser"],[39,24,19,22],[39,25,19,23],[39,28,19,26],[39,32,19,26,"useState"],[39,38,19,34],[39,39,19,34,"useState"],[39,47,19,34],[39,49,19,48],[39,53,19,52],[39,54,19,53],[40,4,20,2],[40,10,20,8],[40,11,20,9,"loading"],[40,18,20,16],[40,20,20,18,"setLoading"],[40,30,20,28],[40,31,20,29],[40,34,20,32],[40,38,20,32,"useState"],[40,44,20,40],[40,45,20,40,"useState"],[40,53,20,40],[40,55,20,41],[40,59,20,45],[40,60,20,46],[41,4,22,2],[41,8,22,2,"useEffect"],[41,14,22,11],[41,15,22,11,"useEffect"],[41,24,22,11],[41,26,22,12],[41,32,22,18],[42,6,23,4,"loadUser"],[42,14,23,12],[42,15,23,13],[42,16,23,14],[43,4,24,2],[43,5,24,3],[43,7,24,5],[43,9,24,7],[43,10,24,8],[44,4,26,2],[44,10,26,8,"loadUser"],[44,18,26,16],[44,21,26,19],[44,27,26,19,"loadUser"],[44,28,26,19],[44,33,26,31],[45,6,27,4],[45,10,27,8],[46,8,28,6],[46,14,28,12,"token"],[46,19,28,17],[46,22,28,20],[46,28,28,26,"storage"],[46,35,28,33],[46,36,28,33,"default"],[46,43,28,33],[46,44,28,34,"getItem"],[46,51,28,41],[46,52,28,42],[46,63,28,53],[46,64,28,54],[47,8,29,6],[47,12,29,10,"token"],[47,17,29,15],[47,19,29,17],[48,10,30,8],[48,16,30,14,"response"],[48,24,30,22],[48,27,30,25],[48,33,30,31,"api"],[48,36,30,34],[48,37,30,34,"default"],[48,44,30,34],[48,45,30,35,"get"],[48,48,30,38],[48,49,30,39],[48,63,30,53],[48,64,30,54],[49,10,31,8,"setUser"],[49,17,31,15],[49,18,31,16,"response"],[49,26,31,24],[49,27,31,25,"data"],[49,31,31,29],[49,32,31,30],[51,10,33,8],[52,10,34,8],[52,16,34,14,"socketService"],[52,31,34,27],[52,32,34,27,"socketService"],[52,45,34,27],[52,46,34,28,"connect"],[52,53,34,35],[52,54,34,36],[52,55,34,37],[53,8,35,6],[54,6,36,4],[54,7,36,5],[54,8,36,6],[54,15,36,13,"error"],[54,20,36,18],[54,22,36,20],[55,8,37,6,"console"],[55,15,37,13],[55,16,37,14,"error"],[55,21,37,19],[55,22,37,20],[55,44,37,42],[55,46,37,44,"error"],[55,51,37,49],[55,52,37,50],[56,8,38,6],[56,14,38,12,"storage"],[56,21,38,19],[56,22,38,19,"default"],[56,29,38,19],[56,30,38,20,"removeItem"],[56,40,38,30],[56,41,38,31],[56,52,38,42],[56,53,38,43],[57,6,39,4],[57,7,39,5],[57,16,39,14],[58,8,40,6,"setLoading"],[58,18,40,16],[58,19,40,17],[58,24,40,22],[58,25,40,23],[59,6,41,4],[60,4,42,2],[60,5,42,3],[61,4,44,2],[61,10,44,8,"login"],[61,15,44,13],[61,18,44,16],[61,24,44,16,"login"],[61,25,44,23,"email"],[61,30,44,36],[61,32,44,38,"password"],[61,40,44,54],[61,45,44,59],[62,6,45,4],[62,10,45,8],[63,8,46,6],[63,14,46,12,"response"],[63,22,46,20],[63,25,46,23],[63,31,46,29,"api"],[63,34,46,32],[63,35,46,32,"default"],[63,42,46,32],[63,43,46,33,"post"],[63,47,46,37],[63,48,46,52],[63,65,46,69],[63,67,46,71],[64,10,47,8,"email"],[64,15,47,13],[65,10,48,8,"password"],[66,8,49,6],[66,9,49,7],[66,10,49,8],[67,8,51,6],[67,14,51,12,"storage"],[67,21,51,19],[67,22,51,19,"default"],[67,29,51,19],[67,30,51,20,"setItem"],[67,37,51,27],[67,38,51,28],[67,49,51,39],[67,51,51,41,"response"],[67,59,51,49],[67,60,51,50,"data"],[67,64,51,54],[67,65,51,55,"access_token"],[67,77,51,67],[67,78,51,68],[68,8,52,6,"setUser"],[68,15,52,13],[68,16,52,14,"response"],[68,24,52,22],[68,25,52,23,"data"],[68,29,52,27],[68,30,52,28,"user"],[68,34,52,32],[68,35,52,33],[70,8,54,6],[71,8,55,6],[71,14,55,12,"socketService"],[71,29,55,25],[71,30,55,25,"socketService"],[71,43,55,25],[71,44,55,26,"connect"],[71,51,55,33],[71,52,55,34],[71,53,55,35],[72,6,56,4],[72,7,56,5],[72,8,56,6],[72,15,56,13,"error"],[72,20,56,23],[72,22,56,25],[73,8,57,6],[73,14,57,12],[73,18,57,16,"Error"],[73,23,57,21],[73,24,57,22,"error"],[73,29,57,27],[73,30,57,28,"response"],[73,38,57,36],[73,40,57,38,"data"],[73,44,57,42],[73,46,57,44,"detail"],[73,52,57,50],[73,56,57,54],[73,70,57,68],[73,71,57,69],[74,6,58,4],[75,4,59,2],[75,5,59,3],[76,4,61,2],[76,10,61,8,"register"],[76,18,61,16],[76,21,61,19],[76,27,61,19,"register"],[76,28,61,26,"username"],[76,36,61,42],[76,38,61,44,"email"],[76,43,61,57],[76,45,61,59,"password"],[76,53,61,75],[76,55,61,77,"weeklyAmount"],[76,67,61,97],[76,72,61,102],[77,6,62,4],[77,10,62,8],[78,8,63,6],[78,14,63,12,"response"],[78,22,63,20],[78,25,63,23],[78,31,63,29,"api"],[78,34,63,32],[78,35,63,32,"default"],[78,42,63,32],[78,43,63,33,"post"],[78,47,63,37],[78,48,63,52],[78,68,63,72],[78,70,63,74],[79,10,64,8,"username"],[79,18,64,16],[80,10,65,8,"email"],[80,15,65,13],[81,10,66,8,"password"],[81,18,66,16],[82,10,67,8,"gambling_weekly_amount"],[82,32,67,30],[82,34,67,32,"weeklyAmount"],[83,8,68,6],[83,9,68,7],[83,10,68,8],[84,8,70,6],[84,14,70,12,"storage"],[84,21,70,19],[84,22,70,19,"default"],[84,29,70,19],[84,30,70,20,"setItem"],[84,37,70,27],[84,38,70,28],[84,49,70,39],[84,51,70,41,"response"],[84,59,70,49],[84,60,70,50,"data"],[84,64,70,54],[84,65,70,55,"access_token"],[84,77,70,67],[84,78,70,68],[85,8,71,6,"setUser"],[85,15,71,13],[85,16,71,14,"response"],[85,24,71,22],[85,25,71,23,"data"],[85,29,71,27],[85,30,71,28,"user"],[85,34,71,32],[85,35,71,33],[87,8,73,6],[88,8,74,6],[88,14,74,12,"socketService"],[88,29,74,25],[88,30,74,25,"socketService"],[88,43,74,25],[88,44,74,26,"connect"],[88,51,74,33],[88,52,74,34],[88,53,74,35],[89,6,75,4],[89,7,75,5],[89,8,75,6],[89,15,75,13,"error"],[89,20,75,23],[89,22,75,25],[90,8,76,6],[90,14,76,12],[90,18,76,16,"Error"],[90,23,76,21],[90,24,76,22,"error"],[90,29,76,27],[90,30,76,28,"response"],[90,38,76,36],[90,40,76,38,"data"],[90,44,76,42],[90,46,76,44,"detail"],[90,52,76,50],[90,56,76,54],[90,77,76,75],[90,78,76,76],[91,6,77,4],[92,4,78,2],[92,5,78,3],[93,4,80,2],[93,10,80,8,"logout"],[93,16,80,14],[93,19,80,17],[93,25,80,17,"logout"],[93,26,80,17],[93,31,80,29],[94,6,81,4],[94,12,81,10,"storage"],[94,19,81,17],[94,20,81,17,"default"],[94,27,81,17],[94,28,81,18,"removeItem"],[94,38,81,28],[94,39,81,29],[94,50,81,40],[94,51,81,41],[95,6,82,4,"setUser"],[95,13,82,11],[95,14,82,12],[95,18,82,16],[95,19,82,17],[96,6,83,4,"socketService"],[96,21,83,17],[96,22,83,17,"socketService"],[96,35,83,17],[96,36,83,18,"disconnect"],[96,46,83,28],[96,47,83,29],[96,48,83,30],[97,4,84,2],[97,5,84,3],[98,4,86,2],[98,10,86,8,"refreshUser"],[98,21,86,19],[98,24,86,22],[98,30,86,22,"refreshUser"],[98,31,86,22],[98,36,86,34],[99,6,87,4],[99,10,87,8],[100,8,88,6],[100,14,88,12,"response"],[100,22,88,20],[100,25,88,23],[100,31,88,29,"api"],[100,34,88,32],[100,35,88,32,"default"],[100,42,88,32],[100,43,88,33,"get"],[100,46,88,36],[100,47,88,37],[100,61,88,51],[100,62,88,52],[101,8,89,6,"setUser"],[101,15,89,13],[101,16,89,14,"response"],[101,24,89,22],[101,25,89,23,"data"],[101,29,89,27],[101,30,89,28],[102,6,90,4],[102,7,90,5],[102,8,90,6],[102,15,90,13,"error"],[102,20,90,18],[102,22,90,20],[103,8,91,6,"console"],[103,15,91,13],[103,16,91,14,"error"],[103,21,91,19],[103,22,91,20],[103,47,91,45],[103,49,91,47,"error"],[103,54,91,52],[103,55,91,53],[104,6,92,4],[105,4,93,2],[105,5,93,3],[106,4,95,2],[106,24,96,4],[106,28,96,4,"_reactJsxDevRuntime"],[106,47,96,4],[106,48,96,4,"jsxDEV"],[106,54,96,4],[106,56,96,5,"AuthContext"],[106,67,96,16],[106,68,96,17,"Provider"],[106,76,96,25],[107,6,96,26,"value"],[107,11,96,31],[107,13,96,33],[108,8,96,35,"user"],[108,12,96,39],[109,8,96,41,"loading"],[109,15,96,48],[110,8,96,50,"login"],[110,13,96,55],[111,8,96,57,"register"],[111,16,96,65],[112,8,96,67,"logout"],[112,14,96,73],[113,8,96,75,"refreshUser"],[114,6,96,87],[114,7,96,89],[115,6,96,89,"children"],[115,14,96,89],[115,16,97,7,"children"],[116,4,97,15],[117,6,97,15,"fileName"],[117,14,97,15],[117,16,97,15,"_jsxFileName"],[117,28,97,15],[118,6,97,15,"lineNumber"],[118,16,97,15],[119,6,97,15,"columnNumber"],[119,18,97,15],[120,4,97,15],[120,11,98,26],[120,12,98,27],[121,2,100,0],[121,3,100,1],[122,2,100,2,"_s"],[122,4,100,2],[122,5,18,13,"AuthProvider"],[122,17,18,25],[123,2,18,25,"_c"],[123,4,18,25],[123,7,18,13,"AuthProvider"],[123,19,18,25],[124,2,102,7],[124,8,102,13,"useAuth"],[124,15,102,20],[124,18,102,23,"useAuth"],[124,19,102,23],[124,24,102,29],[125,4,102,29,"_s2"],[125,7,102,29],[126,4,103,2],[126,10,103,8,"context"],[126,17,103,15],[126,20,103,18],[126,24,103,18,"useContext"],[126,30,103,28],[126,31,103,28,"useContext"],[126,41,103,28],[126,43,103,29,"AuthContext"],[126,54,103,40],[126,55,103,41],[127,4,104,2],[127,8,104,6],[127,9,104,7,"context"],[127,16,104,14],[127,18,104,16],[128,6,105,4],[128,12,105,10],[128,16,105,14,"Error"],[128,21,105,19],[128,22,105,20],[128,64,105,62],[128,65,105,63],[129,4,106,2],[130,4,107,2],[130,11,107,9,"context"],[130,18,107,16],[131,2,108,0],[131,3,108,1],[132,2,108,2,"_s2"],[132,5,108,2],[132,6,102,13,"useAuth"],[132,13,102,20],[133,2,102,20],[133,6,102,20,"_c"],[133,8,102,20],[134,2,102,20,"$RefreshReg$"],[134,14,102,20],[134,15,102,20,"_c"],[134,17,102,20],[135,0,102,20],[135,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BCiB;YCI;GDE;mBEE;GFgB;gBGE;GHe;mBIE;GJiB;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}
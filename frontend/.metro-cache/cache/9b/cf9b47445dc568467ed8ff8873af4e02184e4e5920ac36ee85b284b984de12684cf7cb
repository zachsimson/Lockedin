{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":49,"index":139}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":34,"index":174}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":222},"end":{"line":5,"column":51,"index":273}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _servicesSocket = require(_dependencyMap[3], \"../services/socket\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const token = await SecureStore.getItemAsync('authToken');\n        if (token) {\n          const response = await api.default.get('/api/auth/me');\n          setUser(response.data);\n\n          // Connect socket\n          await _servicesSocket.socketService.connect();\n        }\n      } catch (error) {\n        console.error('Failed to load user:', error);\n        await SecureStore.deleteItemAsync('authToken');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        await SecureStore.setItemAsync('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password, weeklyAmount) => {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          username,\n          email,\n          password,\n          gambling_weekly_amount: weeklyAmount\n        });\n        await SecureStore.setItemAsync('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setUser(null);\n      _servicesSocket.socketService.disconnect();\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":150,"map":[[30,2,18,0,"Object"],[30,8,18,0],[30,9,18,0,"defineProperty"],[30,23,18,0],[30,24,18,0,"exports"],[30,31,18,0],[31,4,18,0,"enumerable"],[31,14,18,0],[32,4,18,0,"get"],[32,7,18,0],[32,18,18,0,"get"],[32,19,18,0],[33,6,18,0],[33,13,18,0,"AuthProvider"],[33,25,18,0],[34,4,18,0],[35,2,18,0],[36,2,102,0,"Object"],[36,8,102,0],[36,9,102,0,"defineProperty"],[36,23,102,0],[36,24,102,0,"exports"],[36,31,102,0],[37,4,102,0,"enumerable"],[37,14,102,0],[38,4,102,0,"get"],[38,7,102,0],[38,18,102,0,"get"],[38,19,102,0],[39,6,102,0],[39,13,102,0,"useAuth"],[39,20,102,0],[40,4,102,0],[41,2,102,0],[42,2,1,0],[42,6,1,0,"_react"],[42,12,1,0],[42,15,1,0,"require"],[42,22,1,0],[42,23,1,0,"_dependencyMap"],[42,37,1,0],[43,2,2,0],[43,6,2,0,"_expoSecureStore"],[43,22,2,0],[43,25,2,0,"require"],[43,32,2,0],[43,33,2,0,"_dependencyMap"],[43,47,2,0],[44,2,2,0],[44,6,2,0,"SecureStore"],[44,17,2,0],[44,20,2,0,"_interopNamespace"],[44,37,2,0],[44,38,2,0,"_expoSecureStore"],[44,54,2,0],[45,2,3,0],[45,6,3,0,"_servicesApi"],[45,18,3,0],[45,21,3,0,"require"],[45,28,3,0],[45,29,3,0,"_dependencyMap"],[45,43,3,0],[46,2,3,0],[46,6,3,0,"api"],[46,9,3,0],[46,12,3,0,"_interopDefault"],[46,27,3,0],[46,28,3,0,"_servicesApi"],[46,40,3,0],[47,2,5,0],[47,6,5,0,"_servicesSocket"],[47,21,5,0],[47,24,5,0,"require"],[47,31,5,0],[47,32,5,0,"_dependencyMap"],[47,46,5,0],[48,2,5,51],[48,6,5,51,"_reactJsxDevRuntime"],[48,25,5,51],[48,28,5,51,"require"],[48,35,5,51],[48,36,5,51,"_dependencyMap"],[48,50,5,51],[49,2,16,0],[49,8,16,6,"AuthContext"],[49,19,16,17],[49,35,16,20],[49,39,16,20,"createContext"],[49,45,16,33],[49,46,16,33,"createContext"],[49,59,16,33],[49,61,16,63,"undefined"],[49,70,16,72],[49,71,16,73],[50,2,18,7],[50,8,18,13,"AuthProvider"],[50,20,18,25],[50,23,18,28,"AuthProvider"],[50,24,18,29],[51,4,18,31,"children"],[52,2,18,65],[52,3,18,66],[52,8,18,71],[53,4,18,71,"_s"],[53,6,18,71],[54,4,19,2],[54,10,19,8],[54,11,19,9,"user"],[54,15,19,13],[54,17,19,15,"setUser"],[54,24,19,22],[54,25,19,23],[54,28,19,26],[54,32,19,26,"useState"],[54,38,19,34],[54,39,19,34,"useState"],[54,47,19,34],[54,49,19,48],[54,53,19,52],[54,54,19,53],[55,4,20,2],[55,10,20,8],[55,11,20,9,"loading"],[55,18,20,16],[55,20,20,18,"setLoading"],[55,30,20,28],[55,31,20,29],[55,34,20,32],[55,38,20,32,"useState"],[55,44,20,40],[55,45,20,40,"useState"],[55,53,20,40],[55,55,20,41],[55,59,20,45],[55,60,20,46],[56,4,22,2],[56,8,22,2,"useEffect"],[56,14,22,11],[56,15,22,11,"useEffect"],[56,24,22,11],[56,26,22,12],[56,32,22,18],[57,6,23,4,"loadUser"],[57,14,23,12],[57,15,23,13],[57,16,23,14],[58,4,24,2],[58,5,24,3],[58,7,24,5],[58,9,24,7],[58,10,24,8],[59,4,26,2],[59,10,26,8,"loadUser"],[59,18,26,16],[59,21,26,19],[59,27,26,19,"loadUser"],[59,28,26,19],[59,33,26,31],[60,6,27,4],[60,10,27,8],[61,8,28,6],[61,14,28,12,"token"],[61,19,28,17],[61,22,28,20],[61,28,28,26,"SecureStore"],[61,39,28,37],[61,40,28,38,"getItemAsync"],[61,52,28,50],[61,53,28,51],[61,64,28,62],[61,65,28,63],[62,8,29,6],[62,12,29,10,"token"],[62,17,29,15],[62,19,29,17],[63,10,30,8],[63,16,30,14,"response"],[63,24,30,22],[63,27,30,25],[63,33,30,31,"api"],[63,36,30,34],[63,37,30,34,"default"],[63,44,30,34],[63,45,30,35,"get"],[63,48,30,38],[63,49,30,39],[63,63,30,53],[63,64,30,54],[64,10,31,8,"setUser"],[64,17,31,15],[64,18,31,16,"response"],[64,26,31,24],[64,27,31,25,"data"],[64,31,31,29],[64,32,31,30],[66,10,33,8],[67,10,34,8],[67,16,34,14,"socketService"],[67,31,34,27],[67,32,34,27,"socketService"],[67,45,34,27],[67,46,34,28,"connect"],[67,53,34,35],[67,54,34,36],[67,55,34,37],[68,8,35,6],[69,6,36,4],[69,7,36,5],[69,8,36,6],[69,15,36,13,"error"],[69,20,36,18],[69,22,36,20],[70,8,37,6,"console"],[70,15,37,13],[70,16,37,14,"error"],[70,21,37,19],[70,22,37,20],[70,44,37,42],[70,46,37,44,"error"],[70,51,37,49],[70,52,37,50],[71,8,38,6],[71,14,38,12,"SecureStore"],[71,25,38,23],[71,26,38,24,"deleteItemAsync"],[71,41,38,39],[71,42,38,40],[71,53,38,51],[71,54,38,52],[72,6,39,4],[72,7,39,5],[72,16,39,14],[73,8,40,6,"setLoading"],[73,18,40,16],[73,19,40,17],[73,24,40,22],[73,25,40,23],[74,6,41,4],[75,4,42,2],[75,5,42,3],[76,4,44,2],[76,10,44,8,"login"],[76,15,44,13],[76,18,44,16],[76,24,44,16,"login"],[76,25,44,23,"email"],[76,30,44,36],[76,32,44,38,"password"],[76,40,44,54],[76,45,44,59],[77,6,45,4],[77,10,45,8],[78,8,46,6],[78,14,46,12,"response"],[78,22,46,20],[78,25,46,23],[78,31,46,29,"api"],[78,34,46,32],[78,35,46,32,"default"],[78,42,46,32],[78,43,46,33,"post"],[78,47,46,37],[78,48,46,52],[78,65,46,69],[78,67,46,71],[79,10,47,8,"email"],[79,15,47,13],[80,10,48,8,"password"],[81,8,49,6],[81,9,49,7],[81,10,49,8],[82,8,51,6],[82,14,51,12,"SecureStore"],[82,25,51,23],[82,26,51,24,"setItemAsync"],[82,38,51,36],[82,39,51,37],[82,50,51,48],[82,52,51,50,"response"],[82,60,51,58],[82,61,51,59,"data"],[82,65,51,63],[82,66,51,64,"access_token"],[82,78,51,76],[82,79,51,77],[83,8,52,6,"setUser"],[83,15,52,13],[83,16,52,14,"response"],[83,24,52,22],[83,25,52,23,"data"],[83,29,52,27],[83,30,52,28,"user"],[83,34,52,32],[83,35,52,33],[85,8,54,6],[86,8,55,6],[86,14,55,12,"socketService"],[86,29,55,25],[86,30,55,25,"socketService"],[86,43,55,25],[86,44,55,26,"connect"],[86,51,55,33],[86,52,55,34],[86,53,55,35],[87,6,56,4],[87,7,56,5],[87,8,56,6],[87,15,56,13,"error"],[87,20,56,23],[87,22,56,25],[88,8,57,6],[88,14,57,12],[88,18,57,16,"Error"],[88,23,57,21],[88,24,57,22,"error"],[88,29,57,27],[88,30,57,28,"response"],[88,38,57,36],[88,40,57,38,"data"],[88,44,57,42],[88,46,57,44,"detail"],[88,52,57,50],[88,56,57,54],[88,70,57,68],[88,71,57,69],[89,6,58,4],[90,4,59,2],[90,5,59,3],[91,4,61,2],[91,10,61,8,"register"],[91,18,61,16],[91,21,61,19],[91,27,61,19,"register"],[91,28,61,26,"username"],[91,36,61,42],[91,38,61,44,"email"],[91,43,61,57],[91,45,61,59,"password"],[91,53,61,75],[91,55,61,77,"weeklyAmount"],[91,67,61,97],[91,72,61,102],[92,6,62,4],[92,10,62,8],[93,8,63,6],[93,14,63,12,"response"],[93,22,63,20],[93,25,63,23],[93,31,63,29,"api"],[93,34,63,32],[93,35,63,32,"default"],[93,42,63,32],[93,43,63,33,"post"],[93,47,63,37],[93,48,63,52],[93,68,63,72],[93,70,63,74],[94,10,64,8,"username"],[94,18,64,16],[95,10,65,8,"email"],[95,15,65,13],[96,10,66,8,"password"],[96,18,66,16],[97,10,67,8,"gambling_weekly_amount"],[97,32,67,30],[97,34,67,32,"weeklyAmount"],[98,8,68,6],[98,9,68,7],[98,10,68,8],[99,8,70,6],[99,14,70,12,"SecureStore"],[99,25,70,23],[99,26,70,24,"setItemAsync"],[99,38,70,36],[99,39,70,37],[99,50,70,48],[99,52,70,50,"response"],[99,60,70,58],[99,61,70,59,"data"],[99,65,70,63],[99,66,70,64,"access_token"],[99,78,70,76],[99,79,70,77],[100,8,71,6,"setUser"],[100,15,71,13],[100,16,71,14,"response"],[100,24,71,22],[100,25,71,23,"data"],[100,29,71,27],[100,30,71,28,"user"],[100,34,71,32],[100,35,71,33],[102,8,73,6],[103,8,74,6],[103,14,74,12,"socketService"],[103,29,74,25],[103,30,74,25,"socketService"],[103,43,74,25],[103,44,74,26,"connect"],[103,51,74,33],[103,52,74,34],[103,53,74,35],[104,6,75,4],[104,7,75,5],[104,8,75,6],[104,15,75,13,"error"],[104,20,75,23],[104,22,75,25],[105,8,76,6],[105,14,76,12],[105,18,76,16,"Error"],[105,23,76,21],[105,24,76,22,"error"],[105,29,76,27],[105,30,76,28,"response"],[105,38,76,36],[105,40,76,38,"data"],[105,44,76,42],[105,46,76,44,"detail"],[105,52,76,50],[105,56,76,54],[105,77,76,75],[105,78,76,76],[106,6,77,4],[107,4,78,2],[107,5,78,3],[108,4,80,2],[108,10,80,8,"logout"],[108,16,80,14],[108,19,80,17],[108,25,80,17,"logout"],[108,26,80,17],[108,31,80,29],[109,6,81,4],[109,12,81,10,"SecureStore"],[109,23,81,21],[109,24,81,22,"deleteItemAsync"],[109,39,81,37],[109,40,81,38],[109,51,81,49],[109,52,81,50],[110,6,82,4,"setUser"],[110,13,82,11],[110,14,82,12],[110,18,82,16],[110,19,82,17],[111,6,83,4,"socketService"],[111,21,83,17],[111,22,83,17,"socketService"],[111,35,83,17],[111,36,83,18,"disconnect"],[111,46,83,28],[111,47,83,29],[111,48,83,30],[112,4,84,2],[112,5,84,3],[113,4,86,2],[113,10,86,8,"refreshUser"],[113,21,86,19],[113,24,86,22],[113,30,86,22,"refreshUser"],[113,31,86,22],[113,36,86,34],[114,6,87,4],[114,10,87,8],[115,8,88,6],[115,14,88,12,"response"],[115,22,88,20],[115,25,88,23],[115,31,88,29,"api"],[115,34,88,32],[115,35,88,32,"default"],[115,42,88,32],[115,43,88,33,"get"],[115,46,88,36],[115,47,88,37],[115,61,88,51],[115,62,88,52],[116,8,89,6,"setUser"],[116,15,89,13],[116,16,89,14,"response"],[116,24,89,22],[116,25,89,23,"data"],[116,29,89,27],[116,30,89,28],[117,6,90,4],[117,7,90,5],[117,8,90,6],[117,15,90,13,"error"],[117,20,90,18],[117,22,90,20],[118,8,91,6,"console"],[118,15,91,13],[118,16,91,14,"error"],[118,21,91,19],[118,22,91,20],[118,47,91,45],[118,49,91,47,"error"],[118,54,91,52],[118,55,91,53],[119,6,92,4],[120,4,93,2],[120,5,93,3],[121,4,95,2],[121,24,96,4],[121,28,96,4,"_reactJsxDevRuntime"],[121,47,96,4],[121,48,96,4,"jsxDEV"],[121,54,96,4],[121,56,96,5,"AuthContext"],[121,67,96,16],[121,68,96,17,"Provider"],[121,76,96,25],[122,6,96,26,"value"],[122,11,96,31],[122,13,96,33],[123,8,96,35,"user"],[123,12,96,39],[124,8,96,41,"loading"],[124,15,96,48],[125,8,96,50,"login"],[125,13,96,55],[126,8,96,57,"register"],[126,16,96,65],[127,8,96,67,"logout"],[127,14,96,73],[128,8,96,75,"refreshUser"],[129,6,96,87],[129,7,96,89],[130,6,96,89,"children"],[130,14,96,89],[130,16,97,7,"children"],[131,4,97,15],[132,6,97,15,"fileName"],[132,14,97,15],[132,16,97,15,"_jsxFileName"],[132,28,97,15],[133,6,97,15,"lineNumber"],[133,16,97,15],[134,6,97,15,"columnNumber"],[134,18,97,15],[135,4,97,15],[135,11,98,26],[135,12,98,27],[136,2,100,0],[136,3,100,1],[137,2,100,2,"_s"],[137,4,100,2],[137,5,18,13,"AuthProvider"],[137,17,18,25],[138,2,18,25,"_c"],[138,4,18,25],[138,7,18,13,"AuthProvider"],[138,19,18,25],[139,2,102,7],[139,8,102,13,"useAuth"],[139,15,102,20],[139,18,102,23,"useAuth"],[139,19,102,23],[139,24,102,29],[140,4,102,29,"_s2"],[140,7,102,29],[141,4,103,2],[141,10,103,8,"context"],[141,17,103,15],[141,20,103,18],[141,24,103,18,"useContext"],[141,30,103,28],[141,31,103,28,"useContext"],[141,41,103,28],[141,43,103,29,"AuthContext"],[141,54,103,40],[141,55,103,41],[142,4,104,2],[142,8,104,6],[142,9,104,7,"context"],[142,16,104,14],[142,18,104,16],[143,6,105,4],[143,12,105,10],[143,16,105,14,"Error"],[143,21,105,19],[143,22,105,20],[143,64,105,62],[143,65,105,63],[144,4,106,2],[145,4,107,2],[145,11,107,9,"context"],[145,18,107,16],[146,2,108,0],[146,3,108,1],[147,2,108,2,"_s2"],[147,5,108,2],[147,6,102,13,"useAuth"],[147,13,102,20],[148,2,102,20],[148,6,102,20,"_c"],[148,8,102,20],[149,2,102,20,"$RefreshReg$"],[149,14,102,20],[149,15,102,20,"_c"],[149,17,102,20],[150,0,102,20],[150,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BCiB;YCI;GDE;mBEE;GFgB;gBGE;GHe;mBIE;GJiB;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}
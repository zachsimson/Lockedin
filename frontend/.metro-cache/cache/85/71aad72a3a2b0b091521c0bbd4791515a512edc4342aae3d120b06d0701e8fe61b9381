{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":67,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use client';\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useReleasingSharedObject = useReleasingSharedObject;\n  var _react = require(_dependencyMap[0], \"react\");\n  /**\n   * Returns a shared object, which is automatically cleaned up when the component is unmounted.\n   */\n  function useReleasingSharedObject(factory, dependencies) {\n    var objectRef = (0, _react.useRef)(null);\n    var isFastRefresh = (0, _react.useRef)(false);\n    var previousDependencies = (0, _react.useRef)(dependencies);\n    if (objectRef.current == null) {\n      objectRef.current = factory();\n    }\n    var object = (0, _react.useMemo)(function () {\n      var _previousDependencies;\n      var newObject = objectRef.current;\n      var dependenciesAreEqual = ((_previousDependencies = previousDependencies.current) == null ? void 0 : _previousDependencies.length) === dependencies.length && dependencies.every(function (value, index) {\n        return value === previousDependencies.current[index];\n      });\n\n      // If the dependencies have changed, release the previous object and create a new one, otherwise this has been called\n      // because of an unrelated fast refresh, and we don't want to release the object.\n      if (!newObject || !dependenciesAreEqual) {\n        var _objectRef$current;\n        (_objectRef$current = objectRef.current) == null || _objectRef$current.release();\n        newObject = factory();\n        objectRef.current = newObject;\n        previousDependencies.current = dependencies;\n      }\n      return newObject;\n    }, dependencies);\n    (0, _react.useMemo)(function () {\n      isFastRefresh.current = true;\n    }, []);\n    (0, _react.useEffect)(function () {\n      isFastRefresh.current = false;\n      return function () {\n        // This will be called on every fast refresh and on unmount, but we only want to release the object on unmount.\n        if (!isFastRefresh.current && objectRef.current) {\n          objectRef.current.release();\n        }\n      };\n    }, []);\n    return object;\n  }\n});","lineCount":52,"map":[[2,2,1,0],[2,14,1,12],[3,2,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,10,0,"exports"],[8,9,10,0],[8,10,10,0,"useReleasingSharedObject"],[8,34,10,0],[8,37,10,0,"useReleasingSharedObject"],[8,61,10,0],[9,2,3,0],[9,6,3,0,"_react"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,7,0],[11,0,8,0],[12,0,9,0],[13,2,10,7],[13,11,10,16,"useReleasingSharedObject"],[13,35,10,40,"useReleasingSharedObject"],[13,36,11,2,"factory"],[13,43,11,30],[13,45,12,2,"dependencies"],[13,57,12,30],[13,59,13,17],[14,4,14,2],[14,8,14,8,"objectRef"],[14,17,14,17],[14,20,14,20],[14,24,14,20,"useRef"],[14,30,14,26],[14,31,14,26,"useRef"],[14,37,14,26],[14,39,14,49],[14,43,14,53],[14,44,14,54],[15,4,15,2],[15,8,15,8,"isFastRefresh"],[15,21,15,21],[15,24,15,24],[15,28,15,24,"useRef"],[15,34,15,30],[15,35,15,30,"useRef"],[15,41,15,30],[15,43,15,31],[15,48,15,36],[15,49,15,37],[16,4,16,2],[16,8,16,8,"previousDependencies"],[16,28,16,28],[16,31,16,31],[16,35,16,31,"useRef"],[16,41,16,37],[16,42,16,37,"useRef"],[16,48,16,37],[16,50,16,54,"dependencies"],[16,62,16,66],[16,63,16,67],[17,4,18,2],[17,8,18,6,"objectRef"],[17,17,18,15],[17,18,18,16,"current"],[17,25,18,23],[17,29,18,27],[17,33,18,31],[17,35,18,33],[18,6,19,4,"objectRef"],[18,15,19,13],[18,16,19,14,"current"],[18,23,19,21],[18,26,19,24,"factory"],[18,33,19,31],[18,34,19,32],[18,35,19,33],[19,4,20,2],[20,4,22,2],[20,8,22,8,"object"],[20,14,22,14],[20,17,22,17],[20,21,22,17,"useMemo"],[20,27,22,24],[20,28,22,24,"useMemo"],[20,35,22,24],[20,37,22,25],[20,49,22,31],[21,6,22,31],[21,10,22,31,"_previousDependencies"],[21,31,22,31],[22,6,23,4],[22,10,23,8,"newObject"],[22,19,23,17],[22,22,23,20,"objectRef"],[22,31,23,29],[22,32,23,30,"current"],[22,39,23,37],[23,6,24,4],[23,10,24,10,"dependenciesAreEqual"],[23,30,24,30],[23,33,25,6],[23,35,25,6,"_previousDependencies"],[23,56,25,6],[23,59,25,6,"previousDependencies"],[23,79,25,26],[23,80,25,27,"current"],[23,87,25,34],[23,108,25,6,"_previousDependencies"],[23,129,25,6],[23,130,25,36,"length"],[23,136,25,42],[23,142,25,47,"dependencies"],[23,154,25,59],[23,155,25,60,"length"],[23,161,25,66],[23,165,26,6,"dependencies"],[23,177,26,18],[23,178,26,19,"every"],[23,183,26,24],[23,184,26,25],[23,194,26,26,"value"],[23,199,26,31],[23,201,26,33,"index"],[23,206,26,38],[24,8,26,38],[24,15,26,43,"value"],[24,20,26,48],[24,25,26,53,"previousDependencies"],[24,45,26,73],[24,46,26,74,"current"],[24,53,26,81],[24,54,26,82,"index"],[24,59,26,87],[24,60,26,88],[25,6,26,88],[25,8,26,89],[27,6,28,4],[28,6,29,4],[29,6,30,4],[29,10,30,8],[29,11,30,9,"newObject"],[29,20,30,18],[29,24,30,22],[29,25,30,23,"dependenciesAreEqual"],[29,45,30,43],[29,47,30,45],[30,8,30,45],[30,12,30,45,"_objectRef$current"],[30,30,30,45],[31,8,31,6],[31,9,31,6,"_objectRef$current"],[31,27,31,6],[31,30,31,6,"objectRef"],[31,39,31,15],[31,40,31,16,"current"],[31,47,31,23],[31,60,31,6,"_objectRef$current"],[31,78,31,6],[31,79,31,25,"release"],[31,86,31,32],[31,87,31,33],[31,88,31,34],[32,8,32,6,"newObject"],[32,17,32,15],[32,20,32,18,"factory"],[32,27,32,25],[32,28,32,26],[32,29,32,27],[33,8,33,6,"objectRef"],[33,17,33,15],[33,18,33,16,"current"],[33,25,33,23],[33,28,33,26,"newObject"],[33,37,33,35],[34,8,34,6,"previousDependencies"],[34,28,34,26],[34,29,34,27,"current"],[34,36,34,34],[34,39,34,37,"dependencies"],[34,51,34,49],[35,6,35,4],[36,6,36,4],[36,13,36,11,"newObject"],[36,22,36,20],[37,4,37,2],[37,5,37,3],[37,7,37,5,"dependencies"],[37,19,37,17],[37,20,37,18],[38,4,39,2],[38,8,39,2,"useMemo"],[38,14,39,9],[38,15,39,9,"useMemo"],[38,22,39,9],[38,24,39,10],[38,36,39,16],[39,6,40,4,"isFastRefresh"],[39,19,40,17],[39,20,40,18,"current"],[39,27,40,25],[39,30,40,28],[39,34,40,32],[40,4,41,2],[40,5,41,3],[40,7,41,5],[40,9,41,7],[40,10,41,8],[41,4,43,2],[41,8,43,2,"useEffect"],[41,14,43,11],[41,15,43,11,"useEffect"],[41,24,43,11],[41,26,43,12],[41,38,43,18],[42,6,44,4,"isFastRefresh"],[42,19,44,17],[42,20,44,18,"current"],[42,27,44,25],[42,30,44,28],[42,35,44,33],[43,6,46,4],[43,13,46,11],[43,25,46,17],[44,8,47,6],[45,8,48,6],[45,12,48,10],[45,13,48,11,"isFastRefresh"],[45,26,48,24],[45,27,48,25,"current"],[45,34,48,32],[45,38,48,36,"objectRef"],[45,47,48,45],[45,48,48,46,"current"],[45,55,48,53],[45,57,48,55],[46,10,49,8,"objectRef"],[46,19,49,17],[46,20,49,18,"current"],[46,27,49,25],[46,28,49,26,"release"],[46,35,49,33],[46,36,49,34],[46,37,49,35],[47,8,50,6],[48,6,51,4],[48,7,51,5],[49,4,52,2],[49,5,52,3],[49,7,52,5],[49,9,52,7],[49,10,52,8],[50,4,54,2],[50,11,54,9,"object"],[50,17,54,15],[51,2,55,0],[52,0,55,1],[52,3]],"functionMap":{"names":["<global>","useReleasingSharedObject","useMemo$argument_0","dependencies.every$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCS;yBCY;yBCI,+DD;GDW;UCE;GDE;YGE;WCG;KDK;GHC;CDG"},"hasCjsExports":false},"type":"js/module"}]}
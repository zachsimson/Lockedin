{"dependencies":[{"name":"./Sensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":30,"index":45}}],"key":"jCsiDNYCRGC49K/Yw6RxNrvQaN8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SensorContainer\", {\n    enumerable: true,\n    get: function () {\n      return SensorContainer;\n    }\n  });\n  var _Sensor = require(_dependencyMap[0], \"./Sensor\");\n  var Sensor = _interopDefault(_Sensor);\n  class SensorContainer {\n    nativeSensors = new Map();\n    getSensorId(sensorType, config) {\n      return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n    }\n    initializeSensor(sensorType, config) {\n      const sensorId = this.getSensorId(sensorType, config);\n      if (!this.nativeSensors.has(sensorId)) {\n        const newSensor = new Sensor.default(sensorType, config);\n        this.nativeSensors.set(sensorId, newSensor);\n      }\n      const sensor = this.nativeSensors.get(sensorId);\n      return sensor.getSharedValue();\n    }\n    registerSensor(sensorType, config, handler) {\n      const sensorId = this.getSensorId(sensorType, config);\n      if (!this.nativeSensors.has(sensorId)) {\n        return -1;\n      }\n      const sensor = this.nativeSensors.get(sensorId);\n      if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n        sensor.listenersNumber++;\n        return sensorId;\n      }\n      return -1;\n    }\n    unregisterSensor(sensorId) {\n      if (this.nativeSensors.has(sensorId)) {\n        const sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isRunning()) {\n          sensor.listenersNumber--;\n          if (sensor.listenersNumber === 0) {\n            sensor.unregister();\n          }\n        }\n      }\n    }\n  }\n});","lineCount":58,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,4,0,"Object"],[12,8,4,0],[12,9,4,0,"defineProperty"],[12,23,4,0],[12,24,4,0,"exports"],[12,31,4,0],[13,4,4,0,"enumerable"],[13,14,4,0],[14,4,4,0,"get"],[14,7,4,0],[14,18,4,0,"get"],[14,19,4,0],[15,6,4,0],[15,13,4,0,"SensorContainer"],[15,28,4,0],[16,4,4,0],[17,2,4,0],[18,2,3,0],[18,6,3,0,"_Sensor"],[18,13,3,0],[18,16,3,0,"require"],[18,23,3,0],[18,24,3,0,"_dependencyMap"],[18,38,3,0],[19,2,3,0],[19,6,3,0,"Sensor"],[19,12,3,0],[19,15,3,0,"_interopDefault"],[19,30,3,0],[19,31,3,0,"_Sensor"],[19,38,3,0],[20,2,4,7],[20,8,4,13,"SensorContainer"],[20,23,4,28],[20,24,4,29],[21,4,5,2,"nativeSensors"],[21,17,5,15],[21,20,5,18],[21,24,5,22,"Map"],[21,27,5,25],[21,28,5,26],[21,29,5,27],[22,4,6,2,"getSensorId"],[22,15,6,13,"getSensorId"],[22,16,6,14,"sensorType"],[22,26,6,24],[22,28,6,26,"config"],[22,34,6,32],[22,36,6,34],[23,6,7,4],[23,13,7,11,"sensorType"],[23,23,7,21],[23,26,7,24],[23,29,7,27],[23,32,7,30,"config"],[23,38,7,36],[23,39,7,37,"iosReferenceFrame"],[23,56,7,54],[23,59,7,57],[23,61,7,59],[23,64,7,62,"Number"],[23,70,7,68],[23,71,7,69,"config"],[23,77,7,75],[23,78,7,76,"adjustToInterfaceOrientation"],[23,106,7,104],[23,107,7,105],[24,4,8,2],[25,4,9,2,"initializeSensor"],[25,20,9,18,"initializeSensor"],[25,21,9,19,"sensorType"],[25,31,9,29],[25,33,9,31,"config"],[25,39,9,37],[25,41,9,39],[26,6,10,4],[26,12,10,10,"sensorId"],[26,20,10,18],[26,23,10,21],[26,27,10,25],[26,28,10,26,"getSensorId"],[26,39,10,37],[26,40,10,38,"sensorType"],[26,50,10,48],[26,52,10,50,"config"],[26,58,10,56],[26,59,10,57],[27,6,11,4],[27,10,11,8],[27,11,11,9],[27,15,11,13],[27,16,11,14,"nativeSensors"],[27,29,11,27],[27,30,11,28,"has"],[27,33,11,31],[27,34,11,32,"sensorId"],[27,42,11,40],[27,43,11,41],[27,45,11,43],[28,8,12,6],[28,14,12,12,"newSensor"],[28,23,12,21],[28,26,12,24],[28,30,12,28,"Sensor"],[28,36,12,34],[28,37,12,34,"default"],[28,44,12,34],[28,45,12,35,"sensorType"],[28,55,12,45],[28,57,12,47,"config"],[28,63,12,53],[28,64,12,54],[29,8,13,6],[29,12,13,10],[29,13,13,11,"nativeSensors"],[29,26,13,24],[29,27,13,25,"set"],[29,30,13,28],[29,31,13,29,"sensorId"],[29,39,13,37],[29,41,13,39,"newSensor"],[29,50,13,48],[29,51,13,49],[30,6,14,4],[31,6,15,4],[31,12,15,10,"sensor"],[31,18,15,16],[31,21,15,19],[31,25,15,23],[31,26,15,24,"nativeSensors"],[31,39,15,37],[31,40,15,38,"get"],[31,43,15,41],[31,44,15,42,"sensorId"],[31,52,15,50],[31,53,15,51],[32,6,16,4],[32,13,16,11,"sensor"],[32,19,16,17],[32,20,16,18,"getSharedValue"],[32,34,16,32],[32,35,16,33],[32,36,16,34],[33,4,17,2],[34,4,18,2,"registerSensor"],[34,18,18,16,"registerSensor"],[34,19,18,17,"sensorType"],[34,29,18,27],[34,31,18,29,"config"],[34,37,18,35],[34,39,18,37,"handler"],[34,46,18,44],[34,48,18,46],[35,6,19,4],[35,12,19,10,"sensorId"],[35,20,19,18],[35,23,19,21],[35,27,19,25],[35,28,19,26,"getSensorId"],[35,39,19,37],[35,40,19,38,"sensorType"],[35,50,19,48],[35,52,19,50,"config"],[35,58,19,56],[35,59,19,57],[36,6,20,4],[36,10,20,8],[36,11,20,9],[36,15,20,13],[36,16,20,14,"nativeSensors"],[36,29,20,27],[36,30,20,28,"has"],[36,33,20,31],[36,34,20,32,"sensorId"],[36,42,20,40],[36,43,20,41],[36,45,20,43],[37,8,21,6],[37,15,21,13],[37,16,21,14],[37,17,21,15],[38,6,22,4],[39,6,23,4],[39,12,23,10,"sensor"],[39,18,23,16],[39,21,23,19],[39,25,23,23],[39,26,23,24,"nativeSensors"],[39,39,23,37],[39,40,23,38,"get"],[39,43,23,41],[39,44,23,42,"sensorId"],[39,52,23,50],[39,53,23,51],[40,6,24,4],[40,10,24,8,"sensor"],[40,16,24,14],[40,20,24,18,"sensor"],[40,26,24,24],[40,27,24,25,"isAvailable"],[40,38,24,36],[40,39,24,37],[40,40,24,38],[40,45,24,43,"sensor"],[40,51,24,49],[40,52,24,50,"isRunning"],[40,61,24,59],[40,62,24,60],[40,63,24,61],[40,67,24,65,"sensor"],[40,73,24,71],[40,74,24,72,"register"],[40,82,24,80],[40,83,24,81,"handler"],[40,90,24,88],[40,91,24,89],[40,92,24,90],[40,94,24,92],[41,8,25,6,"sensor"],[41,14,25,12],[41,15,25,13,"listenersNumber"],[41,30,25,28],[41,32,25,30],[42,8,26,6],[42,15,26,13,"sensorId"],[42,23,26,21],[43,6,27,4],[44,6,28,4],[44,13,28,11],[44,14,28,12],[44,15,28,13],[45,4,29,2],[46,4,30,2,"unregisterSensor"],[46,20,30,18,"unregisterSensor"],[46,21,30,19,"sensorId"],[46,29,30,27],[46,31,30,29],[47,6,31,4],[47,10,31,8],[47,14,31,12],[47,15,31,13,"nativeSensors"],[47,28,31,26],[47,29,31,27,"has"],[47,32,31,30],[47,33,31,31,"sensorId"],[47,41,31,39],[47,42,31,40],[47,44,31,42],[48,8,32,6],[48,14,32,12,"sensor"],[48,20,32,18],[48,23,32,21],[48,27,32,25],[48,28,32,26,"nativeSensors"],[48,41,32,39],[48,42,32,40,"get"],[48,45,32,43],[48,46,32,44,"sensorId"],[48,54,32,52],[48,55,32,53],[49,8,33,6],[49,12,33,10,"sensor"],[49,18,33,16],[49,22,33,20,"sensor"],[49,28,33,26],[49,29,33,27,"isRunning"],[49,38,33,36],[49,39,33,37],[49,40,33,38],[49,42,33,40],[50,10,34,8,"sensor"],[50,16,34,14],[50,17,34,15,"listenersNumber"],[50,32,34,30],[50,34,34,32],[51,10,35,8],[51,14,35,12,"sensor"],[51,20,35,18],[51,21,35,19,"listenersNumber"],[51,36,35,34],[51,41,35,39],[51,42,35,40],[51,44,35,42],[52,12,36,10,"sensor"],[52,18,36,16],[52,19,36,17,"unregister"],[52,29,36,27],[52,30,36,28],[52,31,36,29],[53,10,37,8],[54,8,38,6],[55,6,39,4],[56,4,40,2],[57,2,41,0],[58,0,41,1],[58,3]],"functionMap":{"names":["<global>","SensorContainer","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA;OCG;ECE;GDE;EEC;GFQ;EGC;GHW;EIC;GJU;CDC"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"@react-navigation/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":196,"index":211}}],"key":"Wm75LgE4xYscVWo0KoLFlflJQCo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":212},"end":{"line":4,"column":31,"index":243}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./LinkingContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":244},"end":{"line":5,"column":53,"index":297}}],"key":"r/0Yvi+HouDAqn4vN4m4I6AMfEI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useBuildHref = useBuildHref;\n  Object.defineProperty(exports, \"useBuildAction\", {\n    enumerable: true,\n    get: function () {\n      return useBuildAction;\n    }\n  });\n  exports.useLinkBuilder = useLinkBuilder;\n  var _reactNavigationCore = require(_dependencyMap[0], \"@react-navigation/core\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopNamespace(_react);\n  var _LinkingContextJs = require(_dependencyMap[2], \"./LinkingContext.js\");\n  /**\n   * Helper to build a href for a screen based on the linking options.\n   */\n  function useBuildHref() {\n    const navigation = React.useContext(_reactNavigationCore.NavigationHelpersContext);\n    const route = React.useContext(_reactNavigationCore.NavigationRouteContext);\n    const {\n      options\n    } = React.useContext(_LinkingContextJs.LinkingContext);\n    const focusedRouteState = (0, _reactNavigationCore.useStateForPath)();\n    const getPathFromStateHelper = options?.getPathFromState ?? _reactNavigationCore.getPathFromState;\n    const buildHref = React.useCallback((name, params) => {\n      if (options?.enabled === false) {\n        return undefined;\n      }\n\n      // Check that we're inside:\n      // - navigator's context\n      // - route context of the navigator (could be a screen, tab, etc.)\n      // - route matches the state for path (from the screen's context)\n      // This ensures that we're inside a screen\n      const isScreen = navigation && route?.key && focusedRouteState ? route.key === (0, _reactNavigationCore.findFocusedRoute)(focusedRouteState)?.key && navigation.getState().routes.some(r => r.key === route.key) : false;\n      const stateForRoute = {\n        routes: [{\n          name,\n          params\n        }]\n      };\n      const constructState = state => {\n        if (state) {\n          const route = state.routes[0];\n\n          // If we're inside a screen and at the innermost route\n          // We need to replace the state with the provided one\n          // This assumes that we're navigating to a sibling route\n          if (isScreen && !route.state) {\n            return stateForRoute;\n          }\n\n          // Otherwise, dive into the nested state of the route\n          return {\n            routes: [Object.assign({}, route, {\n              state: constructState(route.state)\n            })]\n          };\n        }\n\n        // Once there is no more nested state, we're at the innermost route\n        // We can add a state based on provided parameters\n        // This assumes that we're navigating to a child of this route\n        // In this case, the helper is used in a navigator for its routes\n        return stateForRoute;\n      };\n      const state = constructState(focusedRouteState);\n      const path = getPathFromStateHelper(state, options?.config);\n      return path;\n    }, [options?.enabled, options?.config, route?.key, navigation, focusedRouteState, getPathFromStateHelper]);\n    return buildHref;\n  }\n\n  /**\n   * Helper to build a navigation action from a href based on the linking options.\n   */\n  const useBuildAction = () => {\n    const {\n      options\n    } = React.useContext(_LinkingContextJs.LinkingContext);\n    const getStateFromPathHelper = options?.getStateFromPath ?? _reactNavigationCore.getStateFromPath;\n    const getActionFromStateHelper = options?.getActionFromState ?? _reactNavigationCore.getActionFromState;\n    const buildAction = React.useCallback(href => {\n      if (!href.startsWith('/')) {\n        throw new Error(`The href must start with '/' (${href}).`);\n      }\n      const state = getStateFromPathHelper(href, options?.config);\n      if (state) {\n        const action = getActionFromStateHelper(state, options?.config);\n        return action ?? _reactNavigationCore.CommonActions.reset(state);\n      } else {\n        throw new Error('Failed to parse the href to a navigation state.');\n      }\n    }, [options?.config, getStateFromPathHelper, getActionFromStateHelper]);\n    return buildAction;\n  };\n\n  /**\n   * Helpers to build href or action based on the linking options.\n   *\n   * @returns `buildHref` to build an `href` for screen and `buildAction` to build an action from an `href`.\n   */\n  function useLinkBuilder() {\n    const buildHref = useBuildHref();\n    const buildAction = useBuildAction();\n    return {\n      buildHref,\n      buildAction\n    };\n  }\n});","lineCount":131,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,9,0,"exports"],[22,9,9,0],[22,10,9,0,"useBuildHref"],[22,22,9,0],[22,25,9,0,"useBuildHref"],[22,37,9,0],[23,2,70,0,"Object"],[23,8,70,0],[23,9,70,0,"defineProperty"],[23,23,70,0],[23,24,70,0,"exports"],[23,31,70,0],[24,4,70,0,"enumerable"],[24,14,70,0],[25,4,70,0,"get"],[25,7,70,0],[25,18,70,0,"get"],[25,19,70,0],[26,6,70,0],[26,13,70,0,"useBuildAction"],[26,27,70,0],[27,4,70,0],[28,2,70,0],[29,2,96,0,"exports"],[29,9,96,0],[29,10,96,0,"useLinkBuilder"],[29,24,96,0],[29,27,96,0,"useLinkBuilder"],[29,41,96,0],[30,2,3,0],[30,6,3,0,"_reactNavigationCore"],[30,26,3,0],[30,29,3,0,"require"],[30,36,3,0],[30,37,3,0,"_dependencyMap"],[30,51,3,0],[31,2,4,0],[31,6,4,0,"_react"],[31,12,4,0],[31,15,4,0,"require"],[31,22,4,0],[31,23,4,0,"_dependencyMap"],[31,37,4,0],[32,2,4,0],[32,6,4,0,"React"],[32,11,4,0],[32,14,4,0,"_interopNamespace"],[32,31,4,0],[32,32,4,0,"_react"],[32,38,4,0],[33,2,5,0],[33,6,5,0,"_LinkingContextJs"],[33,23,5,0],[33,26,5,0,"require"],[33,33,5,0],[33,34,5,0,"_dependencyMap"],[33,48,5,0],[34,2,6,0],[35,0,7,0],[36,0,8,0],[37,2,9,7],[37,11,9,16,"useBuildHref"],[37,23,9,28,"useBuildHref"],[37,24,9,28],[37,26,9,31],[38,4,10,2],[38,10,10,8,"navigation"],[38,20,10,18],[38,23,10,21,"React"],[38,28,10,26],[38,29,10,27,"useContext"],[38,39,10,37],[38,40,10,38,"NavigationHelpersContext"],[38,60,10,62],[38,61,10,62,"NavigationHelpersContext"],[38,85,10,62],[38,86,10,63],[39,4,11,2],[39,10,11,8,"route"],[39,15,11,13],[39,18,11,16,"React"],[39,23,11,21],[39,24,11,22,"useContext"],[39,34,11,32],[39,35,11,33,"NavigationRouteContext"],[39,55,11,55],[39,56,11,55,"NavigationRouteContext"],[39,78,11,55],[39,79,11,56],[40,4,12,2],[40,10,12,8],[41,6,13,4,"options"],[42,4,14,2],[42,5,14,3],[42,8,14,6,"React"],[42,13,14,11],[42,14,14,12,"useContext"],[42,24,14,22],[42,25,14,23,"LinkingContext"],[42,42,14,37],[42,43,14,37,"LinkingContext"],[42,57,14,37],[42,58,14,38],[43,4,15,2],[43,10,15,8,"focusedRouteState"],[43,27,15,25],[43,30,15,28],[43,34,15,28,"useStateForPath"],[43,54,15,43],[43,55,15,43,"useStateForPath"],[43,70,15,43],[43,72,15,44],[43,73,15,45],[44,4,16,2],[44,10,16,8,"getPathFromStateHelper"],[44,32,16,30],[44,35,16,33,"options"],[44,42,16,40],[44,44,16,42,"getPathFromState"],[44,60,16,58],[44,64,16,62,"getPathFromState"],[44,84,16,78],[44,85,16,78,"getPathFromState"],[44,101,16,78],[45,4,17,2],[45,10,17,8,"buildHref"],[45,19,17,17],[45,22,17,20,"React"],[45,27,17,25],[45,28,17,26,"useCallback"],[45,39,17,37],[45,40,17,38],[45,41,17,39,"name"],[45,45,17,43],[45,47,17,45,"params"],[45,53,17,51],[45,58,17,56],[46,6,18,4],[46,10,18,8,"options"],[46,17,18,15],[46,19,18,17,"enabled"],[46,26,18,24],[46,31,18,29],[46,36,18,34],[46,38,18,36],[47,8,19,6],[47,15,19,13,"undefined"],[47,24,19,22],[48,6,20,4],[50,6,22,4],[51,6,23,4],[52,6,24,4],[53,6,25,4],[54,6,26,4],[55,6,27,4],[55,12,27,10,"isScreen"],[55,20,27,18],[55,23,27,21,"navigation"],[55,33,27,31],[55,37,27,35,"route"],[55,42,27,40],[55,44,27,42,"key"],[55,47,27,45],[55,51,27,49,"focusedRouteState"],[55,68,27,66],[55,71,27,69,"route"],[55,76,27,74],[55,77,27,75,"key"],[55,80,27,78],[55,85,27,83],[55,89,27,83,"findFocusedRoute"],[55,109,27,99],[55,110,27,99,"findFocusedRoute"],[55,126,27,99],[55,128,27,100,"focusedRouteState"],[55,145,27,117],[55,146,27,118],[55,148,27,120,"key"],[55,151,27,123],[55,155,27,127,"navigation"],[55,165,27,137],[55,166,27,138,"getState"],[55,174,27,146],[55,175,27,147],[55,176,27,148],[55,177,27,149,"routes"],[55,183,27,155],[55,184,27,156,"some"],[55,188,27,160],[55,189,27,161,"r"],[55,190,27,162],[55,194,27,166,"r"],[55,195,27,167],[55,196,27,168,"key"],[55,199,27,171],[55,204,27,176,"route"],[55,209,27,181],[55,210,27,182,"key"],[55,213,27,185],[55,214,27,186],[55,217,27,189],[55,222,27,194],[56,6,28,4],[56,12,28,10,"stateForRoute"],[56,25,28,23],[56,28,28,26],[57,8,29,6,"routes"],[57,14,29,12],[57,16,29,14],[57,17,29,15],[58,10,30,8,"name"],[58,14,30,12],[59,10,31,8,"params"],[60,8,32,6],[60,9,32,7],[61,6,33,4],[61,7,33,5],[62,6,34,4],[62,12,34,10,"constructState"],[62,26,34,24],[62,29,34,27,"state"],[62,34,34,32],[62,38,34,36],[63,8,35,6],[63,12,35,10,"state"],[63,17,35,15],[63,19,35,17],[64,10,36,8],[64,16,36,14,"route"],[64,21,36,19],[64,24,36,22,"state"],[64,29,36,27],[64,30,36,28,"routes"],[64,36,36,34],[64,37,36,35],[64,38,36,36],[64,39,36,37],[66,10,38,8],[67,10,39,8],[68,10,40,8],[69,10,41,8],[69,14,41,12,"isScreen"],[69,22,41,20],[69,26,41,24],[69,27,41,25,"route"],[69,32,41,30],[69,33,41,31,"state"],[69,38,41,36],[69,40,41,38],[70,12,42,10],[70,19,42,17,"stateForRoute"],[70,32,42,30],[71,10,43,8],[73,10,45,8],[74,10,46,8],[74,17,46,15],[75,12,47,10,"routes"],[75,18,47,16],[75,20,47,18],[75,21,47,18,"Object"],[75,27,47,18],[75,28,47,18,"assign"],[75,34,47,18],[75,39,48,15,"route"],[75,44,48,20],[76,14,49,12,"state"],[76,19,49,17],[76,21,49,19,"constructState"],[76,35,49,33],[76,36,49,34,"route"],[76,41,49,39],[76,42,49,40,"state"],[76,47,49,45],[77,12,49,46],[78,10,51,8],[78,11,51,9],[79,8,52,6],[81,8,54,6],[82,8,55,6],[83,8,56,6],[84,8,57,6],[85,8,58,6],[85,15,58,13,"stateForRoute"],[85,28,58,26],[86,6,59,4],[86,7,59,5],[87,6,60,4],[87,12,60,10,"state"],[87,17,60,15],[87,20,60,18,"constructState"],[87,34,60,32],[87,35,60,33,"focusedRouteState"],[87,52,60,50],[87,53,60,51],[88,6,61,4],[88,12,61,10,"path"],[88,16,61,14],[88,19,61,17,"getPathFromStateHelper"],[88,41,61,39],[88,42,61,40,"state"],[88,47,61,45],[88,49,61,47,"options"],[88,56,61,54],[88,58,61,56,"config"],[88,64,61,62],[88,65,61,63],[89,6,62,4],[89,13,62,11,"path"],[89,17,62,15],[90,4,63,2],[90,5,63,3],[90,7,63,5],[90,8,63,6,"options"],[90,15,63,13],[90,17,63,15,"enabled"],[90,24,63,22],[90,26,63,24,"options"],[90,33,63,31],[90,35,63,33,"config"],[90,41,63,39],[90,43,63,41,"route"],[90,48,63,46],[90,50,63,48,"key"],[90,53,63,51],[90,55,63,53,"navigation"],[90,65,63,63],[90,67,63,65,"focusedRouteState"],[90,84,63,82],[90,86,63,84,"getPathFromStateHelper"],[90,108,63,106],[90,109,63,107],[90,110,63,108],[91,4,64,2],[91,11,64,9,"buildHref"],[91,20,64,18],[92,2,65,0],[94,2,67,0],[95,0,68,0],[96,0,69,0],[97,2,70,7],[97,8,70,13,"useBuildAction"],[97,22,70,27],[97,25,70,30,"useBuildAction"],[97,26,70,30],[97,31,70,36],[98,4,71,2],[98,10,71,8],[99,6,72,4,"options"],[100,4,73,2],[100,5,73,3],[100,8,73,6,"React"],[100,13,73,11],[100,14,73,12,"useContext"],[100,24,73,22],[100,25,73,23,"LinkingContext"],[100,42,73,37],[100,43,73,37,"LinkingContext"],[100,57,73,37],[100,58,73,38],[101,4,74,2],[101,10,74,8,"getStateFromPathHelper"],[101,32,74,30],[101,35,74,33,"options"],[101,42,74,40],[101,44,74,42,"getStateFromPath"],[101,60,74,58],[101,64,74,62,"getStateFromPath"],[101,84,74,78],[101,85,74,78,"getStateFromPath"],[101,101,74,78],[102,4,75,2],[102,10,75,8,"getActionFromStateHelper"],[102,34,75,32],[102,37,75,35,"options"],[102,44,75,42],[102,46,75,44,"getActionFromState"],[102,64,75,62],[102,68,75,66,"getActionFromState"],[102,88,75,84],[102,89,75,84,"getActionFromState"],[102,107,75,84],[103,4,76,2],[103,10,76,8,"buildAction"],[103,21,76,19],[103,24,76,22,"React"],[103,29,76,27],[103,30,76,28,"useCallback"],[103,41,76,39],[103,42,76,40,"href"],[103,46,76,44],[103,50,76,48],[104,6,77,4],[104,10,77,8],[104,11,77,9,"href"],[104,15,77,13],[104,16,77,14,"startsWith"],[104,26,77,24],[104,27,77,25],[104,30,77,28],[104,31,77,29],[104,33,77,31],[105,8,78,6],[105,14,78,12],[105,18,78,16,"Error"],[105,23,78,21],[105,24,78,22],[105,57,78,55,"href"],[105,61,78,59],[105,65,78,63],[105,66,78,64],[106,6,79,4],[107,6,80,4],[107,12,80,10,"state"],[107,17,80,15],[107,20,80,18,"getStateFromPathHelper"],[107,42,80,40],[107,43,80,41,"href"],[107,47,80,45],[107,49,80,47,"options"],[107,56,80,54],[107,58,80,56,"config"],[107,64,80,62],[107,65,80,63],[108,6,81,4],[108,10,81,8,"state"],[108,15,81,13],[108,17,81,15],[109,8,82,6],[109,14,82,12,"action"],[109,20,82,18],[109,23,82,21,"getActionFromStateHelper"],[109,47,82,45],[109,48,82,46,"state"],[109,53,82,51],[109,55,82,53,"options"],[109,62,82,60],[109,64,82,62,"config"],[109,70,82,68],[109,71,82,69],[110,8,83,6],[110,15,83,13,"action"],[110,21,83,19],[110,25,83,23,"CommonActions"],[110,45,83,36],[110,46,83,36,"CommonActions"],[110,59,83,36],[110,60,83,37,"reset"],[110,65,83,42],[110,66,83,43,"state"],[110,71,83,48],[110,72,83,49],[111,6,84,4],[111,7,84,5],[111,13,84,11],[112,8,85,6],[112,14,85,12],[112,18,85,16,"Error"],[112,23,85,21],[112,24,85,22],[112,73,85,71],[112,74,85,72],[113,6,86,4],[114,4,87,2],[114,5,87,3],[114,7,87,5],[114,8,87,6,"options"],[114,15,87,13],[114,17,87,15,"config"],[114,23,87,21],[114,25,87,23,"getStateFromPathHelper"],[114,47,87,45],[114,49,87,47,"getActionFromStateHelper"],[114,73,87,71],[114,74,87,72],[114,75,87,73],[115,4,88,2],[115,11,88,9,"buildAction"],[115,22,88,20],[116,2,89,0],[116,3,89,1],[118,2,91,0],[119,0,92,0],[120,0,93,0],[121,0,94,0],[122,0,95,0],[123,2,96,7],[123,11,96,16,"useLinkBuilder"],[123,25,96,30,"useLinkBuilder"],[123,26,96,30],[123,28,96,33],[124,4,97,2],[124,10,97,8,"buildHref"],[124,19,97,17],[124,22,97,20,"useBuildHref"],[124,34,97,32],[124,35,97,33],[124,36,97,34],[125,4,98,2],[125,10,98,8,"buildAction"],[125,21,98,19],[125,24,98,22,"useBuildAction"],[125,38,98,36],[125,39,98,37],[125,40,98,38],[126,4,99,2],[126,11,99,9],[127,6,100,4,"buildHref"],[127,15,100,13],[128,6,101,4,"buildAction"],[129,4,102,2],[129,5,102,3],[130,2,103,0],[131,0,103,1],[131,3]],"functionMap":{"names":["<global>","useBuildHref","buildHref","navigation.getState.routes.some$argument_0","constructState","useBuildAction","buildAction","useLinkBuilder"],"mappings":"AAA;OCQ;sCCQ;iKCU,wBD;2BEO;KFyB;GDI;CDE;8BKK;wCCM;GDW;CLE;OOO;CPO"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":32,"index":59}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":60},"end":{"line":3,"column":40,"index":100}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _storage = require(_dependencyMap[3], \"./storage\");\n  var storage = _interopDefault(_storage);\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  // Get the backend URL\n  // For both web and mobile, we use the full backend URL \n  // because Expo dev server doesn't proxy API requests\n  var getApiUrl = function getApiUrl() {\n    var backendUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    console.log('[API] EXPO_PUBLIC_BACKEND_URL:', backendUrl);\n\n    // Use the environment variable if available, otherwise use the default\n    if (backendUrl) {\n      return backendUrl;\n    }\n\n    // Fallback for web development\n    if (_reactNative.Platform.OS === 'web' && typeof window !== 'undefined') {\n      // Use current host if we're on web\n      return window.location.origin;\n    }\n    return 'https://gamblefree.preview.emergentagent.com';\n  };\n  var API_URL = getApiUrl();\n  console.log('[API] Using API_URL:', API_URL);\n  var api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    timeout: 15000 // 15 second timeout\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (config) {\n      var _config$method;\n      var token = yield storage.default.getItem('authToken');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      console.log('[API] Request:', (_config$method = config.method) == null ? void 0 : _config$method.toUpperCase(), config.baseURL + config.url);\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  // Log responses/errors for debugging\n  api.interceptors.response.use(function (response) {\n    console.log('[API] Response:', response.status, response.config.url);\n    return response;\n  }, function (error) {\n    var _error$config;\n    console.error('[API] Error:', error.message, (_error$config = error.config) == null ? void 0 : _error$config.url);\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":81,"map":[[12,2,59,0,"Object"],[12,8,59,0],[12,9,59,0,"defineProperty"],[12,23,59,0],[12,24,59,0,"exports"],[12,31,59,0],[13,4,59,0,"enumerable"],[13,14,59,0],[14,4,59,0,"get"],[14,7,59,0],[14,18,59,0,"get"],[14,19,59,0],[15,6,59,0],[15,13,59,0,"_default"],[15,21,59,0],[16,4,59,0],[17,2,59,0],[18,2,59,19],[18,6,59,19,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,59,19],[18,45,59,19,"require"],[18,52,59,19],[18,53,59,19,"_dependencyMap"],[18,67,59,19],[19,2,59,19],[19,6,59,19,"_asyncToGenerator"],[19,23,59,19],[19,26,59,19,"_interopDefault"],[19,41,59,19],[19,42,59,19,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,59,19],[20,2,59,19],[20,6,59,19,"_expoVirtualEnv"],[20,21,59,19],[20,24,59,19,"require"],[20,31,59,19],[20,32,59,19,"_dependencyMap"],[20,46,59,19],[21,2,1,0],[21,6,1,0,"_axios"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,1,0],[22,6,1,0,"axios"],[22,11,1,0],[22,14,1,0,"_interopDefault"],[22,29,1,0],[22,30,1,0,"_axios"],[22,36,1,0],[23,2,2,0],[23,6,2,0,"_storage"],[23,14,2,0],[23,17,2,0,"require"],[23,24,2,0],[23,25,2,0,"_dependencyMap"],[23,39,2,0],[24,2,2,0],[24,6,2,0,"storage"],[24,13,2,0],[24,16,2,0,"_interopDefault"],[24,31,2,0],[24,32,2,0,"_storage"],[24,40,2,0],[25,2,3,0],[25,6,3,0,"_reactNative"],[25,18,3,0],[25,21,3,0,"require"],[25,28,3,0],[25,29,3,0,"_dependencyMap"],[25,43,3,0],[26,2,5,0],[27,2,6,0],[28,2,7,0],[29,2,8,0],[29,6,8,6,"getApiUrl"],[29,15,8,15],[29,18,8,18],[29,27,8,6,"getApiUrl"],[29,36,8,15,"getApiUrl"],[29,37,8,15],[29,39,8,24],[30,4,9,2],[30,8,9,8,"backendUrl"],[30,18,9,18],[30,21,9,18,"_expoVirtualEnv"],[30,36,9,18],[30,37,9,18,"env"],[30,40,9,18],[30,41,9,18,"EXPO_PUBLIC_BACKEND_URL"],[30,64,9,56],[31,4,10,2,"console"],[31,11,10,9],[31,12,10,10,"log"],[31,15,10,13],[31,16,10,14],[31,48,10,46],[31,50,10,48,"backendUrl"],[31,60,10,58],[31,61,10,59],[33,4,12,2],[34,4,13,2],[34,8,13,6,"backendUrl"],[34,18,13,16],[34,20,13,18],[35,6,14,4],[35,13,14,11,"backendUrl"],[35,23,14,21],[36,4,15,2],[38,4,17,2],[39,4,18,2],[39,8,18,6,"Platform"],[39,20,18,14],[39,21,18,14,"Platform"],[39,29,18,14],[39,30,18,15,"OS"],[39,32,18,17],[39,37,18,22],[39,42,18,27],[39,46,18,31],[39,53,18,38,"window"],[39,59,18,44],[39,64,18,49],[39,75,18,60],[39,77,18,62],[40,6,19,4],[41,6,20,4],[41,13,20,11,"window"],[41,19,20,17],[41,20,20,18,"location"],[41,28,20,26],[41,29,20,27,"origin"],[41,35,20,33],[42,4,21,2],[43,4,23,2],[43,11,23,9],[43,57,23,55],[44,2,24,0],[44,3,24,1],[45,2,26,0],[45,6,26,6,"API_URL"],[45,13,26,13],[45,16,26,16,"getApiUrl"],[45,25,26,25],[45,26,26,26],[45,27,26,27],[46,2,27,0,"console"],[46,9,27,7],[46,10,27,8,"log"],[46,13,27,11],[46,14,27,12],[46,36,27,34],[46,38,27,36,"API_URL"],[46,45,27,43],[46,46,27,44],[47,2,29,0],[47,6,29,6,"api"],[47,9,29,9],[47,12,29,12,"axios"],[47,17,29,17],[47,18,29,17,"default"],[47,25,29,17],[47,26,29,18,"create"],[47,32,29,24],[47,33,29,25],[48,4,30,2,"baseURL"],[48,11,30,9],[48,13,30,11,"API_URL"],[48,20,30,18],[49,4,31,2,"headers"],[49,11,31,9],[49,13,31,11],[50,6,32,4],[50,20,32,18],[50,22,32,20],[51,4,33,2],[51,5,33,3],[52,4,34,2,"timeout"],[52,11,34,9],[52,13,34,11],[52,18,34,16],[52,19,34,18],[53,2,35,0],[53,3,35,1],[53,4,35,2],[55,2,37,0],[56,2,38,0,"api"],[56,5,38,3],[56,6,38,4,"interceptors"],[56,18,38,16],[56,19,38,17,"request"],[56,26,38,24],[56,27,38,25,"use"],[56,30,38,28],[57,4,38,28],[57,8,38,28,"_ref"],[57,12,38,28],[57,19,38,28,"_asyncToGenerator"],[57,36,38,28],[57,37,38,28,"default"],[57,44,38,28],[57,46,38,29],[57,57,38,36,"config"],[57,63,38,42],[57,65,38,47],[58,6,38,47],[58,10,38,47,"_config$method"],[58,24,38,47],[59,6,39,2],[59,10,39,8,"token"],[59,15,39,13],[59,24,39,22,"storage"],[59,31,39,29],[59,32,39,29,"default"],[59,39,39,29],[59,40,39,30,"getItem"],[59,47,39,37],[59,48,39,38],[59,59,39,49],[59,60,39,50],[60,6,40,2],[60,10,40,6,"token"],[60,15,40,11],[60,17,40,13],[61,8,41,4,"config"],[61,14,41,10],[61,15,41,11,"headers"],[61,22,41,18],[61,23,41,19,"Authorization"],[61,36,41,32],[61,39,41,35],[61,49,41,45,"token"],[61,54,41,50],[61,56,41,52],[62,6,42,2],[63,6,43,2,"console"],[63,13,43,9],[63,14,43,10,"log"],[63,17,43,13],[63,18,43,14],[63,34,43,30],[63,37,43,30,"_config$method"],[63,51,43,30],[63,54,43,32,"config"],[63,60,43,38],[63,61,43,39,"method"],[63,67,43,45],[63,88,43,32,"_config$method"],[63,102,43,32],[63,103,43,47,"toUpperCase"],[63,114,43,58],[63,115,43,59],[63,116,43,60],[63,118,43,62,"config"],[63,124,43,68],[63,125,43,69,"baseURL"],[63,132,43,76],[63,135,43,79,"config"],[63,141,43,85],[63,142,43,86,"url"],[63,145,43,89],[63,146,43,90],[64,6,44,2],[64,13,44,9,"config"],[64,19,44,15],[65,4,45,0],[65,5,45,1],[66,4,45,1],[66,21,45,1,"_x"],[66,23,45,1],[67,6,45,1],[67,13,45,1,"_ref"],[67,17,45,1],[67,18,45,1,"apply"],[67,23,45,1],[67,30,45,1,"arguments"],[67,39,45,1],[68,4,45,1],[69,2,45,1],[69,6,45,2],[71,2,47,0],[72,2,48,0,"api"],[72,5,48,3],[72,6,48,4,"interceptors"],[72,18,48,16],[72,19,48,17,"response"],[72,27,48,25],[72,28,48,26,"use"],[72,31,48,29],[72,32,49,2],[72,42,49,3,"response"],[72,50,49,11],[72,52,49,16],[73,4,50,4,"console"],[73,11,50,11],[73,12,50,12,"log"],[73,15,50,15],[73,16,50,16],[73,33,50,33],[73,35,50,35,"response"],[73,43,50,43],[73,44,50,44,"status"],[73,50,50,50],[73,52,50,52,"response"],[73,60,50,60],[73,61,50,61,"config"],[73,67,50,67],[73,68,50,68,"url"],[73,71,50,71],[73,72,50,72],[74,4,51,4],[74,11,51,11,"response"],[74,19,51,19],[75,2,52,2],[75,3,52,3],[75,5,53,2],[75,15,53,3,"error"],[75,20,53,8],[75,22,53,13],[76,4,53,13],[76,8,53,13,"_error$config"],[76,21,53,13],[77,4,54,4,"console"],[77,11,54,11],[77,12,54,12,"error"],[77,17,54,17],[77,18,54,18],[77,32,54,32],[77,34,54,34,"error"],[77,39,54,39],[77,40,54,40,"message"],[77,47,54,47],[77,50,54,47,"_error$config"],[77,63,54,47],[77,66,54,49,"error"],[77,71,54,54],[77,72,54,55,"config"],[77,78,54,61],[77,99,54,49,"_error$config"],[77,112,54,49],[77,113,54,63,"url"],[77,116,54,66],[77,117,54,67],[78,4,55,4],[78,11,55,11,"Promise"],[78,18,55,18],[78,19,55,19,"reject"],[78,25,55,25],[78,26,55,26,"error"],[78,31,55,31],[78,32,55,32],[79,2,56,2],[79,3,57,0],[79,4,57,1],[80,2,59,0],[80,6,59,0,"_default"],[80,14,59,0],[80,17,59,15,"api"],[80,20,59,18],[81,0,59,19],[81,3]],"functionMap":{"names":["<global>","getApiUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;kBCO;CDgB;6BEc;CFO;EGI;GHG;EIC;GJG"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":42,"index":132}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":34,"index":167}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":215},"end":{"line":5,"column":51,"index":266}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesStorage = require(_dependencyMap[1], \"../services/storage\");\n  var storage = _interopDefault(_servicesStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _servicesSocket = require(_dependencyMap[3], \"../services/socket\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const token = await storage.default.getItem('authToken');\n        if (token) {\n          const response = await api.default.get('/api/auth/me');\n          setUser(response.data);\n\n          // Connect socket\n          await _servicesSocket.socketService.connect();\n        }\n      } catch (error) {\n        console.error('Failed to load user:', error);\n        await storage.default.removeItem('authToken');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        await storage.default.setItem('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password, weeklyAmount) => {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          username,\n          email,\n          password,\n          gambling_weekly_amount: weeklyAmount\n        });\n        await storage.default.setItem('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await storage.default.removeItem('authToken');\n      setUser(null);\n      _servicesSocket.socketService.disconnect();\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":126,"map":[[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"AuthProvider"],[16,25,18,0],[17,4,18,0],[18,2,18,0],[19,2,102,0,"Object"],[19,8,102,0],[19,9,102,0,"defineProperty"],[19,23,102,0],[19,24,102,0,"exports"],[19,31,102,0],[20,4,102,0,"enumerable"],[20,14,102,0],[21,4,102,0,"get"],[21,7,102,0],[21,18,102,0,"get"],[21,19,102,0],[22,6,102,0],[22,13,102,0,"useAuth"],[22,20,102,0],[23,4,102,0],[24,2,102,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_servicesStorage"],[26,22,2,0],[26,25,2,0,"require"],[26,32,2,0],[26,33,2,0,"_dependencyMap"],[26,47,2,0],[27,2,2,0],[27,6,2,0,"storage"],[27,13,2,0],[27,16,2,0,"_interopDefault"],[27,31,2,0],[27,32,2,0,"_servicesStorage"],[27,48,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,0],[29,6,3,0,"api"],[29,9,3,0],[29,12,3,0,"_interopDefault"],[29,27,3,0],[29,28,3,0,"_servicesApi"],[29,40,3,0],[30,2,5,0],[30,6,5,0,"_servicesSocket"],[30,21,5,0],[30,24,5,0,"require"],[30,31,5,0],[30,32,5,0,"_dependencyMap"],[30,46,5,0],[31,2,5,51],[31,6,5,51,"_reactJsxDevRuntime"],[31,25,5,51],[31,28,5,51,"require"],[31,35,5,51],[31,36,5,51,"_dependencyMap"],[31,50,5,51],[32,2,16,0],[32,8,16,6,"AuthContext"],[32,19,16,17],[32,35,16,20],[32,39,16,20,"createContext"],[32,45,16,33],[32,46,16,33,"createContext"],[32,59,16,33],[32,61,16,63,"undefined"],[32,70,16,72],[32,71,16,73],[33,2,18,7],[33,8,18,13,"AuthProvider"],[33,20,18,25],[33,23,18,28,"AuthProvider"],[33,24,18,29],[34,4,18,31,"children"],[35,2,18,65],[35,3,18,66],[35,8,18,71],[36,4,19,2],[36,10,19,8],[36,11,19,9,"user"],[36,15,19,13],[36,17,19,15,"setUser"],[36,24,19,22],[36,25,19,23],[36,28,19,26],[36,32,19,26,"useState"],[36,38,19,34],[36,39,19,34,"useState"],[36,47,19,34],[36,49,19,48],[36,53,19,52],[36,54,19,53],[37,4,20,2],[37,10,20,8],[37,11,20,9,"loading"],[37,18,20,16],[37,20,20,18,"setLoading"],[37,30,20,28],[37,31,20,29],[37,34,20,32],[37,38,20,32,"useState"],[37,44,20,40],[37,45,20,40,"useState"],[37,53,20,40],[37,55,20,41],[37,59,20,45],[37,60,20,46],[38,4,22,2],[38,8,22,2,"useEffect"],[38,14,22,11],[38,15,22,11,"useEffect"],[38,24,22,11],[38,26,22,12],[38,32,22,18],[39,6,23,4,"loadUser"],[39,14,23,12],[39,15,23,13],[39,16,23,14],[40,4,24,2],[40,5,24,3],[40,7,24,5],[40,9,24,7],[40,10,24,8],[41,4,26,2],[41,10,26,8,"loadUser"],[41,18,26,16],[41,21,26,19],[41,27,26,19,"loadUser"],[41,28,26,19],[41,33,26,31],[42,6,27,4],[42,10,27,8],[43,8,28,6],[43,14,28,12,"token"],[43,19,28,17],[43,22,28,20],[43,28,28,26,"storage"],[43,35,28,33],[43,36,28,33,"default"],[43,43,28,33],[43,44,28,34,"getItem"],[43,51,28,41],[43,52,28,42],[43,63,28,53],[43,64,28,54],[44,8,29,6],[44,12,29,10,"token"],[44,17,29,15],[44,19,29,17],[45,10,30,8],[45,16,30,14,"response"],[45,24,30,22],[45,27,30,25],[45,33,30,31,"api"],[45,36,30,34],[45,37,30,34,"default"],[45,44,30,34],[45,45,30,35,"get"],[45,48,30,38],[45,49,30,39],[45,63,30,53],[45,64,30,54],[46,10,31,8,"setUser"],[46,17,31,15],[46,18,31,16,"response"],[46,26,31,24],[46,27,31,25,"data"],[46,31,31,29],[46,32,31,30],[48,10,33,8],[49,10,34,8],[49,16,34,14,"socketService"],[49,31,34,27],[49,32,34,27,"socketService"],[49,45,34,27],[49,46,34,28,"connect"],[49,53,34,35],[49,54,34,36],[49,55,34,37],[50,8,35,6],[51,6,36,4],[51,7,36,5],[51,8,36,6],[51,15,36,13,"error"],[51,20,36,18],[51,22,36,20],[52,8,37,6,"console"],[52,15,37,13],[52,16,37,14,"error"],[52,21,37,19],[52,22,37,20],[52,44,37,42],[52,46,37,44,"error"],[52,51,37,49],[52,52,37,50],[53,8,38,6],[53,14,38,12,"storage"],[53,21,38,19],[53,22,38,19,"default"],[53,29,38,19],[53,30,38,20,"removeItem"],[53,40,38,30],[53,41,38,31],[53,52,38,42],[53,53,38,43],[54,6,39,4],[54,7,39,5],[54,16,39,14],[55,8,40,6,"setLoading"],[55,18,40,16],[55,19,40,17],[55,24,40,22],[55,25,40,23],[56,6,41,4],[57,4,42,2],[57,5,42,3],[58,4,44,2],[58,10,44,8,"login"],[58,15,44,13],[58,18,44,16],[58,24,44,16,"login"],[58,25,44,23,"email"],[58,30,44,36],[58,32,44,38,"password"],[58,40,44,54],[58,45,44,59],[59,6,45,4],[59,10,45,8],[60,8,46,6],[60,14,46,12,"response"],[60,22,46,20],[60,25,46,23],[60,31,46,29,"api"],[60,34,46,32],[60,35,46,32,"default"],[60,42,46,32],[60,43,46,33,"post"],[60,47,46,37],[60,48,46,52],[60,65,46,69],[60,67,46,71],[61,10,47,8,"email"],[61,15,47,13],[62,10,48,8,"password"],[63,8,49,6],[63,9,49,7],[63,10,49,8],[64,8,51,6],[64,14,51,12,"storage"],[64,21,51,19],[64,22,51,19,"default"],[64,29,51,19],[64,30,51,20,"setItem"],[64,37,51,27],[64,38,51,28],[64,49,51,39],[64,51,51,41,"response"],[64,59,51,49],[64,60,51,50,"data"],[64,64,51,54],[64,65,51,55,"access_token"],[64,77,51,67],[64,78,51,68],[65,8,52,6,"setUser"],[65,15,52,13],[65,16,52,14,"response"],[65,24,52,22],[65,25,52,23,"data"],[65,29,52,27],[65,30,52,28,"user"],[65,34,52,32],[65,35,52,33],[67,8,54,6],[68,8,55,6],[68,14,55,12,"socketService"],[68,29,55,25],[68,30,55,25,"socketService"],[68,43,55,25],[68,44,55,26,"connect"],[68,51,55,33],[68,52,55,34],[68,53,55,35],[69,6,56,4],[69,7,56,5],[69,8,56,6],[69,15,56,13,"error"],[69,20,56,23],[69,22,56,25],[70,8,57,6],[70,14,57,12],[70,18,57,16,"Error"],[70,23,57,21],[70,24,57,22,"error"],[70,29,57,27],[70,30,57,28,"response"],[70,38,57,36],[70,40,57,38,"data"],[70,44,57,42],[70,46,57,44,"detail"],[70,52,57,50],[70,56,57,54],[70,70,57,68],[70,71,57,69],[71,6,58,4],[72,4,59,2],[72,5,59,3],[73,4,61,2],[73,10,61,8,"register"],[73,18,61,16],[73,21,61,19],[73,27,61,19,"register"],[73,28,61,26,"username"],[73,36,61,42],[73,38,61,44,"email"],[73,43,61,57],[73,45,61,59,"password"],[73,53,61,75],[73,55,61,77,"weeklyAmount"],[73,67,61,97],[73,72,61,102],[74,6,62,4],[74,10,62,8],[75,8,63,6],[75,14,63,12,"response"],[75,22,63,20],[75,25,63,23],[75,31,63,29,"api"],[75,34,63,32],[75,35,63,32,"default"],[75,42,63,32],[75,43,63,33,"post"],[75,47,63,37],[75,48,63,52],[75,68,63,72],[75,70,63,74],[76,10,64,8,"username"],[76,18,64,16],[77,10,65,8,"email"],[77,15,65,13],[78,10,66,8,"password"],[78,18,66,16],[79,10,67,8,"gambling_weekly_amount"],[79,32,67,30],[79,34,67,32,"weeklyAmount"],[80,8,68,6],[80,9,68,7],[80,10,68,8],[81,8,70,6],[81,14,70,12,"storage"],[81,21,70,19],[81,22,70,19,"default"],[81,29,70,19],[81,30,70,20,"setItem"],[81,37,70,27],[81,38,70,28],[81,49,70,39],[81,51,70,41,"response"],[81,59,70,49],[81,60,70,50,"data"],[81,64,70,54],[81,65,70,55,"access_token"],[81,77,70,67],[81,78,70,68],[82,8,71,6,"setUser"],[82,15,71,13],[82,16,71,14,"response"],[82,24,71,22],[82,25,71,23,"data"],[82,29,71,27],[82,30,71,28,"user"],[82,34,71,32],[82,35,71,33],[84,8,73,6],[85,8,74,6],[85,14,74,12,"socketService"],[85,29,74,25],[85,30,74,25,"socketService"],[85,43,74,25],[85,44,74,26,"connect"],[85,51,74,33],[85,52,74,34],[85,53,74,35],[86,6,75,4],[86,7,75,5],[86,8,75,6],[86,15,75,13,"error"],[86,20,75,23],[86,22,75,25],[87,8,76,6],[87,14,76,12],[87,18,76,16,"Error"],[87,23,76,21],[87,24,76,22,"error"],[87,29,76,27],[87,30,76,28,"response"],[87,38,76,36],[87,40,76,38,"data"],[87,44,76,42],[87,46,76,44,"detail"],[87,52,76,50],[87,56,76,54],[87,77,76,75],[87,78,76,76],[88,6,77,4],[89,4,78,2],[89,5,78,3],[90,4,80,2],[90,10,80,8,"logout"],[90,16,80,14],[90,19,80,17],[90,25,80,17,"logout"],[90,26,80,17],[90,31,80,29],[91,6,81,4],[91,12,81,10,"storage"],[91,19,81,17],[91,20,81,17,"default"],[91,27,81,17],[91,28,81,18,"removeItem"],[91,38,81,28],[91,39,81,29],[91,50,81,40],[91,51,81,41],[92,6,82,4,"setUser"],[92,13,82,11],[92,14,82,12],[92,18,82,16],[92,19,82,17],[93,6,83,4,"socketService"],[93,21,83,17],[93,22,83,17,"socketService"],[93,35,83,17],[93,36,83,18,"disconnect"],[93,46,83,28],[93,47,83,29],[93,48,83,30],[94,4,84,2],[94,5,84,3],[95,4,86,2],[95,10,86,8,"refreshUser"],[95,21,86,19],[95,24,86,22],[95,30,86,22,"refreshUser"],[95,31,86,22],[95,36,86,34],[96,6,87,4],[96,10,87,8],[97,8,88,6],[97,14,88,12,"response"],[97,22,88,20],[97,25,88,23],[97,31,88,29,"api"],[97,34,88,32],[97,35,88,32,"default"],[97,42,88,32],[97,43,88,33,"get"],[97,46,88,36],[97,47,88,37],[97,61,88,51],[97,62,88,52],[98,8,89,6,"setUser"],[98,15,89,13],[98,16,89,14,"response"],[98,24,89,22],[98,25,89,23,"data"],[98,29,89,27],[98,30,89,28],[99,6,90,4],[99,7,90,5],[99,8,90,6],[99,15,90,13,"error"],[99,20,90,18],[99,22,90,20],[100,8,91,6,"console"],[100,15,91,13],[100,16,91,14,"error"],[100,21,91,19],[100,22,91,20],[100,47,91,45],[100,49,91,47,"error"],[100,54,91,52],[100,55,91,53],[101,6,92,4],[102,4,93,2],[102,5,93,3],[103,4,95,2],[103,24,96,4],[103,28,96,4,"_reactJsxDevRuntime"],[103,47,96,4],[103,48,96,4,"jsxDEV"],[103,54,96,4],[103,56,96,5,"AuthContext"],[103,67,96,16],[103,68,96,17,"Provider"],[103,76,96,25],[104,6,96,26,"value"],[104,11,96,31],[104,13,96,33],[105,8,96,35,"user"],[105,12,96,39],[106,8,96,41,"loading"],[106,15,96,48],[107,8,96,50,"login"],[107,13,96,55],[108,8,96,57,"register"],[108,16,96,65],[109,8,96,67,"logout"],[109,14,96,73],[110,8,96,75,"refreshUser"],[111,6,96,87],[111,7,96,89],[112,6,96,89,"children"],[112,14,96,89],[112,16,97,7,"children"],[113,4,97,15],[114,6,97,15,"fileName"],[114,14,97,15],[114,16,97,15,"_jsxFileName"],[114,28,97,15],[115,6,97,15,"lineNumber"],[115,16,97,15],[116,6,97,15,"columnNumber"],[116,18,97,15],[117,4,97,15],[117,11,98,26],[117,12,98,27],[118,2,100,0],[118,3,100,1],[119,2,102,7],[119,8,102,13,"useAuth"],[119,15,102,20],[119,18,102,23,"useAuth"],[119,19,102,23],[119,24,102,29],[120,4,103,2],[120,10,103,8,"context"],[120,17,103,15],[120,20,103,18],[120,24,103,18,"useContext"],[120,30,103,28],[120,31,103,28,"useContext"],[120,41,103,28],[120,43,103,29,"AuthContext"],[120,54,103,40],[120,55,103,41],[121,4,104,2],[121,8,104,6],[121,9,104,7,"context"],[121,16,104,14],[121,18,104,16],[122,6,105,4],[122,12,105,10],[122,16,105,14,"Error"],[122,21,105,19],[122,22,105,20],[122,64,105,62],[122,65,105,63],[123,4,106,2],[124,4,107,2],[124,11,107,9,"context"],[124,18,107,16],[125,2,108,0],[125,3,108,1],[126,0,108,2],[126,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BCiB;YCI;GDE;mBEE;GFgB;gBGE;GHe;mBIE;GJiB;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}
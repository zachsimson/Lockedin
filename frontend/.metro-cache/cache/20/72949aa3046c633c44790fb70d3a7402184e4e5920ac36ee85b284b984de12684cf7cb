{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":49,"index":139}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":34,"index":174}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/socket","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":222},"end":{"line":5,"column":51,"index":273}}],"key":"Zr9DRnwDVZxHFeGDyPwyujLo6pk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _servicesSocket = require(_dependencyMap[3], \"../services/socket\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const token = await SecureStore.getItemAsync('authToken');\n        if (token) {\n          const response = await api.default.get('/api/auth/me');\n          setUser(response.data);\n\n          // Connect socket\n          await _servicesSocket.socketService.connect();\n        }\n      } catch (error) {\n        console.error('Failed to load user:', error);\n        await SecureStore.deleteItemAsync('authToken');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        await SecureStore.setItemAsync('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password, weeklyAmount) => {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          username,\n          email,\n          password,\n          gambling_weekly_amount: weeklyAmount\n        });\n        await SecureStore.setItemAsync('authToken', response.data.access_token);\n        setUser(response.data.user);\n\n        // Connect socket\n        await _servicesSocket.socketService.connect();\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('authToken');\n      setUser(null);\n      _servicesSocket.socketService.disconnect();\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":141,"map":[[28,2,18,0,"Object"],[28,8,18,0],[28,9,18,0,"defineProperty"],[28,23,18,0],[28,24,18,0,"exports"],[28,31,18,0],[29,4,18,0,"enumerable"],[29,14,18,0],[30,4,18,0,"get"],[30,7,18,0],[30,18,18,0,"get"],[30,19,18,0],[31,6,18,0],[31,13,18,0,"AuthProvider"],[31,25,18,0],[32,4,18,0],[33,2,18,0],[34,2,102,0,"Object"],[34,8,102,0],[34,9,102,0,"defineProperty"],[34,23,102,0],[34,24,102,0,"exports"],[34,31,102,0],[35,4,102,0,"enumerable"],[35,14,102,0],[36,4,102,0,"get"],[36,7,102,0],[36,18,102,0,"get"],[36,19,102,0],[37,6,102,0],[37,13,102,0,"useAuth"],[37,20,102,0],[38,4,102,0],[39,2,102,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_servicesApi"],[43,18,3,0],[43,21,3,0,"require"],[43,28,3,0],[43,29,3,0,"_dependencyMap"],[43,43,3,0],[44,2,3,0],[44,6,3,0,"api"],[44,9,3,0],[44,12,3,0,"_interopDefault"],[44,27,3,0],[44,28,3,0,"_servicesApi"],[44,40,3,0],[45,2,5,0],[45,6,5,0,"_servicesSocket"],[45,21,5,0],[45,24,5,0,"require"],[45,31,5,0],[45,32,5,0,"_dependencyMap"],[45,46,5,0],[46,2,5,51],[46,6,5,51,"_reactJsxDevRuntime"],[46,25,5,51],[46,28,5,51,"require"],[46,35,5,51],[46,36,5,51,"_dependencyMap"],[46,50,5,51],[47,2,16,0],[47,8,16,6,"AuthContext"],[47,19,16,17],[47,35,16,20],[47,39,16,20,"createContext"],[47,45,16,33],[47,46,16,33,"createContext"],[47,59,16,33],[47,61,16,63,"undefined"],[47,70,16,72],[47,71,16,73],[48,2,18,7],[48,8,18,13,"AuthProvider"],[48,20,18,25],[48,23,18,28,"AuthProvider"],[48,24,18,29],[49,4,18,31,"children"],[50,2,18,65],[50,3,18,66],[50,8,18,71],[51,4,19,2],[51,10,19,8],[51,11,19,9,"user"],[51,15,19,13],[51,17,19,15,"setUser"],[51,24,19,22],[51,25,19,23],[51,28,19,26],[51,32,19,26,"useState"],[51,38,19,34],[51,39,19,34,"useState"],[51,47,19,34],[51,49,19,48],[51,53,19,52],[51,54,19,53],[52,4,20,2],[52,10,20,8],[52,11,20,9,"loading"],[52,18,20,16],[52,20,20,18,"setLoading"],[52,30,20,28],[52,31,20,29],[52,34,20,32],[52,38,20,32,"useState"],[52,44,20,40],[52,45,20,40,"useState"],[52,53,20,40],[52,55,20,41],[52,59,20,45],[52,60,20,46],[53,4,22,2],[53,8,22,2,"useEffect"],[53,14,22,11],[53,15,22,11,"useEffect"],[53,24,22,11],[53,26,22,12],[53,32,22,18],[54,6,23,4,"loadUser"],[54,14,23,12],[54,15,23,13],[54,16,23,14],[55,4,24,2],[55,5,24,3],[55,7,24,5],[55,9,24,7],[55,10,24,8],[56,4,26,2],[56,10,26,8,"loadUser"],[56,18,26,16],[56,21,26,19],[56,27,26,19,"loadUser"],[56,28,26,19],[56,33,26,31],[57,6,27,4],[57,10,27,8],[58,8,28,6],[58,14,28,12,"token"],[58,19,28,17],[58,22,28,20],[58,28,28,26,"SecureStore"],[58,39,28,37],[58,40,28,38,"getItemAsync"],[58,52,28,50],[58,53,28,51],[58,64,28,62],[58,65,28,63],[59,8,29,6],[59,12,29,10,"token"],[59,17,29,15],[59,19,29,17],[60,10,30,8],[60,16,30,14,"response"],[60,24,30,22],[60,27,30,25],[60,33,30,31,"api"],[60,36,30,34],[60,37,30,34,"default"],[60,44,30,34],[60,45,30,35,"get"],[60,48,30,38],[60,49,30,39],[60,63,30,53],[60,64,30,54],[61,10,31,8,"setUser"],[61,17,31,15],[61,18,31,16,"response"],[61,26,31,24],[61,27,31,25,"data"],[61,31,31,29],[61,32,31,30],[63,10,33,8],[64,10,34,8],[64,16,34,14,"socketService"],[64,31,34,27],[64,32,34,27,"socketService"],[64,45,34,27],[64,46,34,28,"connect"],[64,53,34,35],[64,54,34,36],[64,55,34,37],[65,8,35,6],[66,6,36,4],[66,7,36,5],[66,8,36,6],[66,15,36,13,"error"],[66,20,36,18],[66,22,36,20],[67,8,37,6,"console"],[67,15,37,13],[67,16,37,14,"error"],[67,21,37,19],[67,22,37,20],[67,44,37,42],[67,46,37,44,"error"],[67,51,37,49],[67,52,37,50],[68,8,38,6],[68,14,38,12,"SecureStore"],[68,25,38,23],[68,26,38,24,"deleteItemAsync"],[68,41,38,39],[68,42,38,40],[68,53,38,51],[68,54,38,52],[69,6,39,4],[69,7,39,5],[69,16,39,14],[70,8,40,6,"setLoading"],[70,18,40,16],[70,19,40,17],[70,24,40,22],[70,25,40,23],[71,6,41,4],[72,4,42,2],[72,5,42,3],[73,4,44,2],[73,10,44,8,"login"],[73,15,44,13],[73,18,44,16],[73,24,44,16,"login"],[73,25,44,23,"email"],[73,30,44,36],[73,32,44,38,"password"],[73,40,44,54],[73,45,44,59],[74,6,45,4],[74,10,45,8],[75,8,46,6],[75,14,46,12,"response"],[75,22,46,20],[75,25,46,23],[75,31,46,29,"api"],[75,34,46,32],[75,35,46,32,"default"],[75,42,46,32],[75,43,46,33,"post"],[75,47,46,37],[75,48,46,52],[75,65,46,69],[75,67,46,71],[76,10,47,8,"email"],[76,15,47,13],[77,10,48,8,"password"],[78,8,49,6],[78,9,49,7],[78,10,49,8],[79,8,51,6],[79,14,51,12,"SecureStore"],[79,25,51,23],[79,26,51,24,"setItemAsync"],[79,38,51,36],[79,39,51,37],[79,50,51,48],[79,52,51,50,"response"],[79,60,51,58],[79,61,51,59,"data"],[79,65,51,63],[79,66,51,64,"access_token"],[79,78,51,76],[79,79,51,77],[80,8,52,6,"setUser"],[80,15,52,13],[80,16,52,14,"response"],[80,24,52,22],[80,25,52,23,"data"],[80,29,52,27],[80,30,52,28,"user"],[80,34,52,32],[80,35,52,33],[82,8,54,6],[83,8,55,6],[83,14,55,12,"socketService"],[83,29,55,25],[83,30,55,25,"socketService"],[83,43,55,25],[83,44,55,26,"connect"],[83,51,55,33],[83,52,55,34],[83,53,55,35],[84,6,56,4],[84,7,56,5],[84,8,56,6],[84,15,56,13,"error"],[84,20,56,23],[84,22,56,25],[85,8,57,6],[85,14,57,12],[85,18,57,16,"Error"],[85,23,57,21],[85,24,57,22,"error"],[85,29,57,27],[85,30,57,28,"response"],[85,38,57,36],[85,40,57,38,"data"],[85,44,57,42],[85,46,57,44,"detail"],[85,52,57,50],[85,56,57,54],[85,70,57,68],[85,71,57,69],[86,6,58,4],[87,4,59,2],[87,5,59,3],[88,4,61,2],[88,10,61,8,"register"],[88,18,61,16],[88,21,61,19],[88,27,61,19,"register"],[88,28,61,26,"username"],[88,36,61,42],[88,38,61,44,"email"],[88,43,61,57],[88,45,61,59,"password"],[88,53,61,75],[88,55,61,77,"weeklyAmount"],[88,67,61,97],[88,72,61,102],[89,6,62,4],[89,10,62,8],[90,8,63,6],[90,14,63,12,"response"],[90,22,63,20],[90,25,63,23],[90,31,63,29,"api"],[90,34,63,32],[90,35,63,32,"default"],[90,42,63,32],[90,43,63,33,"post"],[90,47,63,37],[90,48,63,52],[90,68,63,72],[90,70,63,74],[91,10,64,8,"username"],[91,18,64,16],[92,10,65,8,"email"],[92,15,65,13],[93,10,66,8,"password"],[93,18,66,16],[94,10,67,8,"gambling_weekly_amount"],[94,32,67,30],[94,34,67,32,"weeklyAmount"],[95,8,68,6],[95,9,68,7],[95,10,68,8],[96,8,70,6],[96,14,70,12,"SecureStore"],[96,25,70,23],[96,26,70,24,"setItemAsync"],[96,38,70,36],[96,39,70,37],[96,50,70,48],[96,52,70,50,"response"],[96,60,70,58],[96,61,70,59,"data"],[96,65,70,63],[96,66,70,64,"access_token"],[96,78,70,76],[96,79,70,77],[97,8,71,6,"setUser"],[97,15,71,13],[97,16,71,14,"response"],[97,24,71,22],[97,25,71,23,"data"],[97,29,71,27],[97,30,71,28,"user"],[97,34,71,32],[97,35,71,33],[99,8,73,6],[100,8,74,6],[100,14,74,12,"socketService"],[100,29,74,25],[100,30,74,25,"socketService"],[100,43,74,25],[100,44,74,26,"connect"],[100,51,74,33],[100,52,74,34],[100,53,74,35],[101,6,75,4],[101,7,75,5],[101,8,75,6],[101,15,75,13,"error"],[101,20,75,23],[101,22,75,25],[102,8,76,6],[102,14,76,12],[102,18,76,16,"Error"],[102,23,76,21],[102,24,76,22,"error"],[102,29,76,27],[102,30,76,28,"response"],[102,38,76,36],[102,40,76,38,"data"],[102,44,76,42],[102,46,76,44,"detail"],[102,52,76,50],[102,56,76,54],[102,77,76,75],[102,78,76,76],[103,6,77,4],[104,4,78,2],[104,5,78,3],[105,4,80,2],[105,10,80,8,"logout"],[105,16,80,14],[105,19,80,17],[105,25,80,17,"logout"],[105,26,80,17],[105,31,80,29],[106,6,81,4],[106,12,81,10,"SecureStore"],[106,23,81,21],[106,24,81,22,"deleteItemAsync"],[106,39,81,37],[106,40,81,38],[106,51,81,49],[106,52,81,50],[107,6,82,4,"setUser"],[107,13,82,11],[107,14,82,12],[107,18,82,16],[107,19,82,17],[108,6,83,4,"socketService"],[108,21,83,17],[108,22,83,17,"socketService"],[108,35,83,17],[108,36,83,18,"disconnect"],[108,46,83,28],[108,47,83,29],[108,48,83,30],[109,4,84,2],[109,5,84,3],[110,4,86,2],[110,10,86,8,"refreshUser"],[110,21,86,19],[110,24,86,22],[110,30,86,22,"refreshUser"],[110,31,86,22],[110,36,86,34],[111,6,87,4],[111,10,87,8],[112,8,88,6],[112,14,88,12,"response"],[112,22,88,20],[112,25,88,23],[112,31,88,29,"api"],[112,34,88,32],[112,35,88,32,"default"],[112,42,88,32],[112,43,88,33,"get"],[112,46,88,36],[112,47,88,37],[112,61,88,51],[112,62,88,52],[113,8,89,6,"setUser"],[113,15,89,13],[113,16,89,14,"response"],[113,24,89,22],[113,25,89,23,"data"],[113,29,89,27],[113,30,89,28],[114,6,90,4],[114,7,90,5],[114,8,90,6],[114,15,90,13,"error"],[114,20,90,18],[114,22,90,20],[115,8,91,6,"console"],[115,15,91,13],[115,16,91,14,"error"],[115,21,91,19],[115,22,91,20],[115,47,91,45],[115,49,91,47,"error"],[115,54,91,52],[115,55,91,53],[116,6,92,4],[117,4,93,2],[117,5,93,3],[118,4,95,2],[118,24,96,4],[118,28,96,4,"_reactJsxDevRuntime"],[118,47,96,4],[118,48,96,4,"jsxDEV"],[118,54,96,4],[118,56,96,5,"AuthContext"],[118,67,96,16],[118,68,96,17,"Provider"],[118,76,96,25],[119,6,96,26,"value"],[119,11,96,31],[119,13,96,33],[120,8,96,35,"user"],[120,12,96,39],[121,8,96,41,"loading"],[121,15,96,48],[122,8,96,50,"login"],[122,13,96,55],[123,8,96,57,"register"],[123,16,96,65],[124,8,96,67,"logout"],[124,14,96,73],[125,8,96,75,"refreshUser"],[126,6,96,87],[126,7,96,89],[127,6,96,89,"children"],[127,14,96,89],[127,16,97,7,"children"],[128,4,97,15],[129,6,97,15,"fileName"],[129,14,97,15],[129,16,97,15,"_jsxFileName"],[129,28,97,15],[130,6,97,15,"lineNumber"],[130,16,97,15],[131,6,97,15,"columnNumber"],[131,18,97,15],[132,4,97,15],[132,11,98,26],[132,12,98,27],[133,2,100,0],[133,3,100,1],[134,2,102,7],[134,8,102,13,"useAuth"],[134,15,102,20],[134,18,102,23,"useAuth"],[134,19,102,23],[134,24,102,29],[135,4,103,2],[135,10,103,8,"context"],[135,17,103,15],[135,20,103,18],[135,24,103,18,"useContext"],[135,30,103,28],[135,31,103,28,"useContext"],[135,41,103,28],[135,43,103,29,"AuthContext"],[135,54,103,40],[135,55,103,41],[136,4,104,2],[136,8,104,6],[136,9,104,7,"context"],[136,16,104,14],[136,18,104,16],[137,6,105,4],[137,12,105,10],[137,16,105,14,"Error"],[137,21,105,19],[137,22,105,20],[137,64,105,62],[137,65,105,63],[138,4,106,2],[139,4,107,2],[139,11,107,9,"context"],[139,18,107,16],[140,2,108,0],[140,3,108,1],[141,0,108,2],[141,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BCiB;YCI;GDE;mBEE;GFgB;gBGE;GHe;mBIE;GJiB;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}
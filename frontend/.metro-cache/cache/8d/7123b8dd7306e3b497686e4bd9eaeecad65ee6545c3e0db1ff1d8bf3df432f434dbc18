{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":32,"index":59}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _storage = require(_dependencyMap[2], \"./storage\");\n  var storage = _interopDefault(_storage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // For mobile (Expo Go), we need the full backend URL\n  // For web, we can use relative URLs since both are served from same domain\n  const getApiUrl = () => {\n    // On web, use relative URLs (empty string)\n    if (Platform.default.OS === 'web') {\n      return '';\n    }\n\n    // On mobile, use the environment variable\n    const backendUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    console.log('[API] Backend URL:', backendUrl);\n    return backendUrl || 'https://gamblefree.preview.emergentagent.com';\n  };\n  const API_URL = getApiUrl();\n  console.log('[API] Using API_URL:', API_URL);\n  const api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    timeout: 15000 // 15 second timeout\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await storage.default.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    console.log('[API] Request:', config.method?.toUpperCase(), config.url);\n    return config;\n  });\n\n  // Log responses/errors for debugging\n  api.interceptors.response.use(response => {\n    console.log('[API] Response:', response.status, response.config.url);\n    return response;\n  }, error => {\n    console.error('[API] Error:', error.message, error.config?.url);\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":67,"map":[[12,2,52,0,"Object"],[12,8,52,0],[12,9,52,0,"defineProperty"],[12,23,52,0],[12,24,52,0,"exports"],[12,31,52,0],[13,4,52,0,"enumerable"],[13,14,52,0],[14,4,52,0,"get"],[14,7,52,0],[14,18,52,0,"get"],[14,19,52,0],[15,6,52,0],[15,13,52,0,"_default"],[15,21,52,0],[16,4,52,0],[17,2,52,0],[18,2,52,19],[18,6,52,19,"_expoVirtualEnv"],[18,21,52,19],[18,24,52,19,"require"],[18,31,52,19],[18,32,52,19,"_dependencyMap"],[18,46,52,19],[19,2,1,0],[19,6,1,0,"_axios"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"axios"],[20,11,1,0],[20,14,1,0,"_interopDefault"],[20,29,1,0],[20,30,1,0,"_axios"],[20,36,1,0],[21,2,2,0],[21,6,2,0,"_storage"],[21,14,2,0],[21,17,2,0,"require"],[21,24,2,0],[21,25,2,0,"_dependencyMap"],[21,39,2,0],[22,2,2,0],[22,6,2,0,"storage"],[22,13,2,0],[22,16,2,0,"_interopDefault"],[22,31,2,0],[22,32,2,0,"_storage"],[22,40,2,0],[23,2,2,32],[23,6,2,32,"_reactNativeWebDistExportsPlatform"],[23,40,2,32],[23,43,2,32,"require"],[23,50,2,32],[23,51,2,32,"_dependencyMap"],[23,65,2,32],[24,2,2,32],[24,6,2,32,"Platform"],[24,14,2,32],[24,17,2,32,"_interopDefault"],[24,32,2,32],[24,33,2,32,"_reactNativeWebDistExportsPlatform"],[24,67,2,32],[25,2,5,0],[26,2,6,0],[27,2,7,0],[27,8,7,6,"getApiUrl"],[27,17,7,15],[27,20,7,18,"getApiUrl"],[27,21,7,18],[27,26,7,24],[28,4,8,2],[29,4,9,2],[29,8,9,6,"Platform"],[29,16,9,14],[29,17,9,14,"default"],[29,24,9,14],[29,25,9,15,"OS"],[29,27,9,17],[29,32,9,22],[29,37,9,27],[29,39,9,29],[30,6,10,4],[30,13,10,11],[30,15,10,13],[31,4,11,2],[33,4,13,2],[34,4,14,2],[34,10,14,8,"backendUrl"],[34,20,14,18],[34,23,14,18,"_expoVirtualEnv"],[34,38,14,18],[34,39,14,18,"env"],[34,42,14,18],[34,43,14,18,"EXPO_PUBLIC_BACKEND_URL"],[34,66,14,56],[35,4,15,2,"console"],[35,11,15,9],[35,12,15,10,"log"],[35,15,15,13],[35,16,15,14],[35,36,15,34],[35,38,15,36,"backendUrl"],[35,48,15,46],[35,49,15,47],[36,4,16,2],[36,11,16,9,"backendUrl"],[36,21,16,19],[36,25,16,23],[36,71,16,69],[37,2,17,0],[37,3,17,1],[38,2,19,0],[38,8,19,6,"API_URL"],[38,15,19,13],[38,18,19,16,"getApiUrl"],[38,27,19,25],[38,28,19,26],[38,29,19,27],[39,2,20,0,"console"],[39,9,20,7],[39,10,20,8,"log"],[39,13,20,11],[39,14,20,12],[39,36,20,34],[39,38,20,36,"API_URL"],[39,45,20,43],[39,46,20,44],[40,2,22,0],[40,8,22,6,"api"],[40,11,22,9],[40,14,22,12,"axios"],[40,19,22,17],[40,20,22,17,"default"],[40,27,22,17],[40,28,22,18,"create"],[40,34,22,24],[40,35,22,25],[41,4,23,2,"baseURL"],[41,11,23,9],[41,13,23,11,"API_URL"],[41,20,23,18],[42,4,24,2,"headers"],[42,11,24,9],[42,13,24,11],[43,6,25,4],[43,20,25,18],[43,22,25,20],[44,4,26,2],[44,5,26,3],[45,4,27,2,"timeout"],[45,11,27,9],[45,13,27,11],[45,18,27,16],[45,19,27,18],[46,2,28,0],[46,3,28,1],[46,4,28,2],[48,2,30,0],[49,2,31,0,"api"],[49,5,31,3],[49,6,31,4,"interceptors"],[49,18,31,16],[49,19,31,17,"request"],[49,26,31,24],[49,27,31,25,"use"],[49,30,31,28],[49,31,31,29],[49,37,31,36,"config"],[49,43,31,42],[49,47,31,47],[50,4,32,2],[50,10,32,8,"token"],[50,15,32,13],[50,18,32,16],[50,24,32,22,"storage"],[50,31,32,29],[50,32,32,29,"default"],[50,39,32,29],[50,40,32,30,"getItem"],[50,47,32,37],[50,48,32,38],[50,59,32,49],[50,60,32,50],[51,4,33,2],[51,8,33,6,"token"],[51,13,33,11],[51,15,33,13],[52,6,34,4,"config"],[52,12,34,10],[52,13,34,11,"headers"],[52,20,34,18],[52,21,34,19,"Authorization"],[52,34,34,32],[52,37,34,35],[52,47,34,45,"token"],[52,52,34,50],[52,54,34,52],[53,4,35,2],[54,4,36,2,"console"],[54,11,36,9],[54,12,36,10,"log"],[54,15,36,13],[54,16,36,14],[54,32,36,30],[54,34,36,32,"config"],[54,40,36,38],[54,41,36,39,"method"],[54,47,36,45],[54,49,36,47,"toUpperCase"],[54,60,36,58],[54,61,36,59],[54,62,36,60],[54,64,36,62,"config"],[54,70,36,68],[54,71,36,69,"url"],[54,74,36,72],[54,75,36,73],[55,4,37,2],[55,11,37,9,"config"],[55,17,37,15],[56,2,38,0],[56,3,38,1],[56,4,38,2],[58,2,40,0],[59,2,41,0,"api"],[59,5,41,3],[59,6,41,4,"interceptors"],[59,18,41,16],[59,19,41,17,"response"],[59,27,41,25],[59,28,41,26,"use"],[59,31,41,29],[59,32,42,3,"response"],[59,40,42,11],[59,44,42,16],[60,4,43,4,"console"],[60,11,43,11],[60,12,43,12,"log"],[60,15,43,15],[60,16,43,16],[60,33,43,33],[60,35,43,35,"response"],[60,43,43,43],[60,44,43,44,"status"],[60,50,43,50],[60,52,43,52,"response"],[60,60,43,60],[60,61,43,61,"config"],[60,67,43,67],[60,68,43,68,"url"],[60,71,43,71],[60,72,43,72],[61,4,44,4],[61,11,44,11,"response"],[61,19,44,19],[62,2,45,2],[62,3,45,3],[62,5,46,3,"error"],[62,10,46,8],[62,14,46,13],[63,4,47,4,"console"],[63,11,47,11],[63,12,47,12,"error"],[63,17,47,17],[63,18,47,18],[63,32,47,32],[63,34,47,34,"error"],[63,39,47,39],[63,40,47,40,"message"],[63,47,47,47],[63,49,47,49,"error"],[63,54,47,54],[63,55,47,55,"config"],[63,61,47,61],[63,63,47,63,"url"],[63,66,47,66],[63,67,47,67],[64,4,48,4],[64,11,48,11,"Promise"],[64,18,48,18],[64,19,48,19,"reject"],[64,25,48,25],[64,26,48,26,"error"],[64,31,48,31],[64,32,48,32],[65,2,49,2],[65,3,50,0],[65,4,50,1],[66,2,52,0],[66,6,52,0,"_default"],[66,14,52,0],[66,17,52,15,"api"],[66,20,52,18],[67,0,52,19],[67,3]],"functionMap":{"names":["<global>","getApiUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;kBCM;CDU;6BEc;CFO;EGI;GHG;EIC;GJG"},"hasCjsExports":false},"type":"js/module"}]}
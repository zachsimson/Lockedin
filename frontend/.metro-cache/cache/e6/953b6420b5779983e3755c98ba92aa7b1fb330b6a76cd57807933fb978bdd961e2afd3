{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":60}}],"key":"+LsZXRWRdDHi7URH4twavK8owRs=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":18},"end":{"line":17,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  require(_dependencyMap[3], \"./ListMetricsAggregator\");\n  var invariant = require(_dependencyMap[4], \"invariant\");\n  var ViewabilityHelper = /*#__PURE__*/function () {\n    function ViewabilityHelper() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        viewAreaCoveragePercentThreshold: 0\n      };\n      (0, _classCallCheck.default)(this, ViewabilityHelper);\n      this._hasInteracted = false;\n      this._timers = new Set();\n      this._viewableIndices = [];\n      this._viewableItems = new Map();\n      this._config = config;\n    }\n    return (0, _createClass.default)(ViewabilityHelper, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._timers.forEach(clearTimeout);\n      }\n    }, {\n      key: \"computeViewableItems\",\n      value: function computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        var _this$_config = this._config,\n          itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n          viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n        var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n        var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n        invariant(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n        var viewableIndices = [];\n        if (itemCount === 0) {\n          return viewableIndices;\n        }\n        var firstVisible = -1;\n        var _ref = renderRange || {\n            first: 0,\n            last: itemCount - 1\n          },\n          first = _ref.first,\n          last = _ref.last;\n        if (last >= itemCount) {\n          console.warn('Invalid render range computing viewability ' + JSON.stringify({\n            renderRange: renderRange,\n            itemCount: itemCount\n          }));\n          return [];\n        }\n        for (var idx = first; idx <= last; idx++) {\n          var metrics = listMetrics.getCellMetrics(idx, props);\n          if (!metrics) {\n            continue;\n          }\n          var top = Math.floor(metrics.offset - scrollOffset);\n          var bottom = Math.floor(top + metrics.length);\n          if (top < viewportHeight && bottom > 0) {\n            firstVisible = idx;\n            if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n              viewableIndices.push(idx);\n            }\n          } else if (firstVisible >= 0) {\n            break;\n          }\n        }\n        return viewableIndices;\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate(props, scrollOffset, viewportHeight, listMetrics, createViewToken, onViewableItemsChanged, renderRange) {\n        var _this = this;\n        var itemCount = props.getItemCount(props.data);\n        if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !listMetrics.getCellMetrics(0, props)) {\n          return;\n        }\n        var viewableIndices = [];\n        if (itemCount) {\n          viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange);\n        }\n        if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every(function (v, ii) {\n          return v === viewableIndices[ii];\n        })) {\n          return;\n        }\n        this._viewableIndices = viewableIndices;\n        if (this._config.minimumViewTime) {\n          var handle = setTimeout(function () {\n            _this._timers.delete(handle);\n            _this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n          }, this._config.minimumViewTime);\n          this._timers.add(handle);\n        } else {\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }\n      }\n    }, {\n      key: \"resetViewableIndices\",\n      value: function resetViewableIndices() {\n        this._viewableIndices = [];\n      }\n    }, {\n      key: \"recordInteraction\",\n      value: function recordInteraction() {\n        this._hasInteracted = true;\n      }\n    }, {\n      key: \"_onUpdateSync\",\n      value: function _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n        var _this2 = this;\n        viewableIndicesToCheck = viewableIndicesToCheck.filter(function (ii) {\n          return _this2._viewableIndices.includes(ii);\n        });\n        var prevItems = this._viewableItems;\n        var nextItems = new Map(viewableIndicesToCheck.map(function (ii) {\n          var viewable = createViewToken(ii, true, props);\n          return [viewable.key, viewable];\n        }));\n        var changed = [];\n        for (var _ref2 of nextItems) {\n          var _ref3 = (0, _slicedToArray.default)(_ref2, 2);\n          var key = _ref3[0];\n          var viewable = _ref3[1];\n          if (!prevItems.has(key)) {\n            changed.push(viewable);\n          }\n        }\n        for (var _ref4 of prevItems) {\n          var _ref5 = (0, _slicedToArray.default)(_ref4, 2);\n          var _key = _ref5[0];\n          var _viewable = _ref5[1];\n          if (!nextItems.has(_key)) {\n            changed.push(Object.assign({}, _viewable, {\n              isViewable: false\n            }));\n          }\n        }\n        if (changed.length > 0) {\n          this._viewableItems = nextItems;\n          onViewableItemsChanged({\n            viewableItems: Array.from(nextItems.values()),\n            changed: changed,\n            viewabilityConfig: this._config\n          });\n        }\n      }\n    }]);\n  }();\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  var _default = ViewabilityHelper;\n});","lineCount":186,"map":[[2,2,11,0],[2,14,11,12],[4,2,11,13,"Object"],[4,8,11,13],[4,9,11,13,"defineProperty"],[4,23,11,13],[4,24,11,13,"exports"],[4,31,11,13],[5,4,11,13,"value"],[5,9,11,13],[6,2,11,13],[7,2,11,13],[7,11,11,13,"_interopDefault"],[7,27,11,13,"e"],[7,28,11,13],[8,4,11,13],[8,11,11,13,"e"],[8,12,11,13],[8,16,11,13,"e"],[8,17,11,13],[8,18,11,13,"__esModule"],[8,28,11,13],[8,31,11,13,"e"],[8,32,11,13],[9,6,11,13,"default"],[9,13,11,13],[9,15,11,13,"e"],[10,4,11,13],[11,2,11,13],[12,2,352,0,"Object"],[12,8,352,0],[12,9,352,0,"defineProperty"],[12,23,352,0],[12,24,352,0,"exports"],[12,31,352,0],[13,4,352,0,"enumerable"],[13,14,352,0],[14,4,352,0,"get"],[14,7,352,0],[14,18,352,0,"get"],[14,19,352,0],[15,6,352,0],[15,13,352,0,"_default"],[15,21,352,0],[16,4,352,0],[17,2,352,0],[18,2,352,33],[18,6,352,33,"_babelRuntimeHelpersSlicedToArray"],[18,39,352,33],[18,42,352,33,"require"],[18,49,352,33],[18,50,352,33,"_dependencyMap"],[18,64,352,33],[19,2,352,33],[19,6,352,33,"_slicedToArray"],[19,20,352,33],[19,23,352,33,"_interopDefault"],[19,38,352,33],[19,39,352,33,"_babelRuntimeHelpersSlicedToArray"],[19,72,352,33],[20,2,352,33],[20,6,352,33,"_babelRuntimeHelpersClassCallCheck"],[20,40,352,33],[20,43,352,33,"require"],[20,50,352,33],[20,51,352,33,"_dependencyMap"],[20,65,352,33],[21,2,352,33],[21,6,352,33,"_classCallCheck"],[21,21,352,33],[21,24,352,33,"_interopDefault"],[21,39,352,33],[21,40,352,33,"_babelRuntimeHelpersClassCallCheck"],[21,74,352,33],[22,2,352,33],[22,6,352,33,"_babelRuntimeHelpersCreateClass"],[22,37,352,33],[22,40,352,33,"require"],[22,47,352,33],[22,48,352,33,"_dependencyMap"],[22,62,352,33],[23,2,352,33],[23,6,352,33,"_createClass"],[23,18,352,33],[23,21,352,33,"_interopDefault"],[23,36,352,33],[23,37,352,33,"_babelRuntimeHelpersCreateClass"],[23,68,352,33],[24,2,15,0,"require"],[24,9,15,0],[24,10,15,0,"_dependencyMap"],[24,24,15,0],[25,2,17,0],[25,6,17,6,"invariant"],[25,15,17,15],[25,18,17,18,"require"],[25,25,17,25],[25,26,17,25,"_dependencyMap"],[25,40,17,25],[25,56,17,37],[25,57,17,38],[26,2,17,39],[26,6,82,6,"ViewabilityHelper"],[26,23,82,23],[27,4,89,2],[27,13,89,2,"ViewabilityHelper"],[27,31,89,2],[27,33,91,4],[28,6,91,4],[28,10,90,4,"config"],[28,16,90,29],[28,19,90,29,"arguments"],[28,28,90,29],[28,29,90,29,"length"],[28,35,90,29],[28,43,90,29,"arguments"],[28,52,90,29],[28,60,90,29,"undefined"],[28,69,90,29],[28,72,90,29,"arguments"],[28,81,90,29],[28,87,90,32],[29,8,90,33,"viewAreaCoveragePercentThreshold"],[29,40,90,65],[29,42,90,67],[30,6,90,68],[30,7,90,69],[31,6,90,69],[31,10,90,69,"_classCallCheck"],[31,25,90,69],[31,26,90,69,"default"],[31,33,90,69],[31,41,90,69,"ViewabilityHelper"],[31,58,90,69],[32,6,90,69],[32,11,84,2,"_hasInteracted"],[32,25,84,16],[32,28,84,28],[32,33,84,33],[33,6,84,33],[33,11,85,2,"_timers"],[33,18,85,9],[33,21,85,25],[33,25,85,29,"Set"],[33,28,85,32],[33,29,85,33],[33,30,85,34],[34,6,85,34],[34,11,86,2,"_viewableIndices"],[34,27,86,18],[34,30,86,36],[34,32,86,38],[35,6,86,38],[35,11,87,2,"_viewableItems"],[35,25,87,16],[35,28,87,43],[35,32,87,47,"Map"],[35,35,87,50],[35,36,87,51],[35,37,87,52],[36,6,92,4],[36,10,92,8],[36,11,92,9,"_config"],[36,18,92,16],[36,21,92,19,"config"],[36,27,92,25],[37,4,93,2],[38,4,93,3],[38,15,93,3,"_createClass"],[38,27,93,3],[38,28,93,3,"default"],[38,35,93,3],[38,37,93,3,"ViewabilityHelper"],[38,54,93,3],[39,6,93,3,"key"],[39,9,93,3],[40,6,93,3,"value"],[40,11,93,3],[40,13,98,2],[40,22,98,2,"dispose"],[40,29,98,9,"dispose"],[40,30,98,9],[40,32,98,12],[41,8,102,4],[41,12,102,8],[41,13,102,9,"_timers"],[41,20,102,16],[41,21,102,17,"forEach"],[41,28,102,24],[41,29,102,25,"clearTimeout"],[41,41,102,37],[41,42,102,38],[42,6,103,2],[43,4,103,3],[44,6,103,3,"key"],[44,9,103,3],[45,6,103,3,"value"],[45,11,103,3],[45,13,108,2],[45,22,108,2,"computeViewableItems"],[45,42,108,22,"computeViewableItems"],[45,43,109,4,"props"],[45,48,109,26],[45,50,110,4,"scrollOffset"],[45,62,110,24],[45,64,111,4,"viewportHeight"],[45,78,111,26],[45,80,112,4,"listMetrics"],[45,91,112,38],[45,93,114,4,"renderRange"],[45,104,118,5],[45,106,119,19],[46,8,120,4],[46,12,120,10,"itemCount"],[46,21,120,19],[46,24,120,22,"props"],[46,29,120,27],[46,30,120,28,"getItemCount"],[46,42,120,40],[46,43,120,41,"props"],[46,48,120,46],[46,49,120,47,"data"],[46,53,120,51],[46,54,120,52],[47,8,121,4],[47,12,121,4,"_this$_config"],[47,25,121,4],[47,28,122,6],[47,32,122,10],[47,33,122,11,"_config"],[47,40,122,18],[48,10,121,11,"itemVisiblePercentThreshold"],[48,37,121,38],[48,40,121,38,"_this$_config"],[48,53,121,38],[48,54,121,11,"itemVisiblePercentThreshold"],[48,81,121,38],[49,10,121,40,"viewAreaCoveragePercentThreshold"],[49,42,121,72],[49,45,121,72,"_this$_config"],[49,58,121,72],[49,59,121,40,"viewAreaCoveragePercentThreshold"],[49,91,121,72],[50,8,123,4],[50,12,123,10,"viewAreaMode"],[50,24,123,22],[50,27,123,25,"viewAreaCoveragePercentThreshold"],[50,59,123,57],[50,63,123,61],[50,67,123,65],[51,8,124,4],[51,12,124,10,"viewablePercentThreshold"],[51,36,124,34],[51,39,124,37,"viewAreaMode"],[51,51,124,49],[51,54,125,8,"viewAreaCoveragePercentThreshold"],[51,86,125,40],[51,89,126,8,"itemVisiblePercentThreshold"],[51,116,126,35],[52,8,127,4,"invariant"],[52,17,127,13],[52,18,128,6,"viewablePercentThreshold"],[52,42,128,30],[52,46,128,34],[52,50,128,38],[52,54,129,9,"itemVisiblePercentThreshold"],[52,81,129,36],[52,85,129,40],[52,89,129,44],[52,95,130,11,"viewAreaCoveragePercentThreshold"],[52,127,130,43],[52,131,130,47],[52,135,130,51],[52,136,130,52],[52,138,131,6],[52,227,132,4],[52,228,132,5],[53,8,133,4],[53,12,133,10,"viewableIndices"],[53,27,133,25],[53,30,133,28],[53,32,133,30],[54,8,134,4],[54,12,134,8,"itemCount"],[54,21,134,17],[54,26,134,22],[54,27,134,23],[54,29,134,25],[55,10,135,6],[55,17,135,13,"viewableIndices"],[55,32,135,28],[56,8,136,4],[57,8,137,4],[57,12,137,8,"firstVisible"],[57,24,137,20],[57,27,137,23],[57,28,137,24],[57,29,137,25],[58,8,138,4],[58,12,138,4,"_ref"],[58,16,138,4],[58,19,138,26,"renderRange"],[58,30,138,37],[58,34,138,41],[59,12,138,42,"first"],[59,17,138,47],[59,19,138,49],[59,20,138,50],[60,12,138,52,"last"],[60,16,138,56],[60,18,138,58,"itemCount"],[60,27,138,67],[60,30,138,70],[61,10,138,71],[61,11,138,72],[62,10,138,11,"first"],[62,15,138,16],[62,18,138,16,"_ref"],[62,22,138,16],[62,23,138,11,"first"],[62,28,138,16],[63,10,138,18,"last"],[63,14,138,22],[63,17,138,22,"_ref"],[63,21,138,22],[63,22,138,18,"last"],[63,26,138,22],[64,8,139,4],[64,12,139,8,"last"],[64,16,139,12],[64,20,139,16,"itemCount"],[64,29,139,25],[64,31,139,27],[65,10,140,6,"console"],[65,17,140,13],[65,18,140,14,"warn"],[65,22,140,18],[65,23,141,8],[65,68,141,53],[65,71,142,10,"JSON"],[65,75,142,14],[65,76,142,15,"stringify"],[65,85,142,24],[65,86,142,25],[66,12,142,26,"renderRange"],[66,23,142,37],[66,25,142,26,"renderRange"],[66,36,142,37],[67,12,142,39,"itemCount"],[67,21,142,48],[67,23,142,39,"itemCount"],[68,10,142,48],[68,11,142,49],[68,12,143,6],[68,13,143,7],[69,10,144,6],[69,17,144,13],[69,19,144,15],[70,8,145,4],[71,8,146,4],[71,13,146,9],[71,17,146,13,"idx"],[71,20,146,16],[71,23,146,19,"first"],[71,28,146,24],[71,30,146,26,"idx"],[71,33,146,29],[71,37,146,33,"last"],[71,41,146,37],[71,43,146,39,"idx"],[71,46,146,42],[71,48,146,44],[71,50,146,46],[72,10,147,6],[72,14,147,12,"metrics"],[72,21,147,19],[72,24,147,22,"listMetrics"],[72,35,147,33],[72,36,147,34,"getCellMetrics"],[72,50,147,48],[72,51,147,49,"idx"],[72,54,147,52],[72,56,147,54,"props"],[72,61,147,59],[72,62,147,60],[73,10,148,6],[73,14,148,10],[73,15,148,11,"metrics"],[73,22,148,18],[73,24,148,20],[74,12,149,8],[75,10,150,6],[76,10,151,6],[76,14,151,12,"top"],[76,17,151,15],[76,20,151,18,"Math"],[76,24,151,22],[76,25,151,23,"floor"],[76,30,151,28],[76,31,151,29,"metrics"],[76,38,151,36],[76,39,151,37,"offset"],[76,45,151,43],[76,48,151,46,"scrollOffset"],[76,60,151,58],[76,61,151,59],[77,10,152,6],[77,14,152,12,"bottom"],[77,20,152,18],[77,23,152,21,"Math"],[77,27,152,25],[77,28,152,26,"floor"],[77,33,152,31],[77,34,152,32,"top"],[77,37,152,35],[77,40,152,38,"metrics"],[77,47,152,45],[77,48,152,46,"length"],[77,54,152,52],[77,55,152,53],[78,10,154,6],[78,14,154,10,"top"],[78,17,154,13],[78,20,154,16,"viewportHeight"],[78,34,154,30],[78,38,154,34,"bottom"],[78,44,154,40],[78,47,154,43],[78,48,154,44],[78,50,154,46],[79,12,155,8,"firstVisible"],[79,24,155,20],[79,27,155,23,"idx"],[79,30,155,26],[80,12,156,8],[80,16,157,10,"_isViewable"],[80,27,157,21],[80,28,158,12,"viewAreaMode"],[80,40,158,24],[80,42,159,12,"viewablePercentThreshold"],[80,66,159,36],[80,68,160,12,"top"],[80,71,160,15],[80,73,161,12,"bottom"],[80,79,161,18],[80,81,162,12,"viewportHeight"],[80,95,162,26],[80,97,163,12,"metrics"],[80,104,163,19],[80,105,163,20,"length"],[80,111,164,10],[80,112,164,11],[80,114,165,10],[81,14,166,10,"viewableIndices"],[81,29,166,25],[81,30,166,26,"push"],[81,34,166,30],[81,35,166,31,"idx"],[81,38,166,34],[81,39,166,35],[82,12,167,8],[83,10,168,6],[83,11,168,7],[83,17,168,13],[83,21,168,17,"firstVisible"],[83,33,168,29],[83,37,168,33],[83,38,168,34],[83,40,168,36],[84,12,169,8],[85,10,170,6],[86,8,171,4],[87,8,172,4],[87,15,172,11,"viewableIndices"],[87,30,172,26],[88,6,173,2],[89,4,173,3],[90,6,173,3,"key"],[90,9,173,3],[91,6,173,3,"value"],[91,11,173,3],[91,13,179,2],[91,22,179,2,"onUpdate"],[91,30,179,10,"onUpdate"],[91,31,180,4,"props"],[91,36,180,26],[91,38,181,4,"scrollOffset"],[91,50,181,24],[91,52,182,4,"viewportHeight"],[91,66,182,26],[91,68,183,4,"listMetrics"],[91,79,183,38],[91,81,184,4,"createViewToken"],[91,96,188,18],[91,98,189,4,"onViewableItemsChanged"],[91,120,193,14],[91,122,195,4,"renderRange"],[91,133,199,5],[91,135,200,10],[92,8,200,10],[92,12,200,10,"_this"],[92,17,200,10],[93,8,201,4],[93,12,201,10,"itemCount"],[93,21,201,19],[93,24,201,22,"props"],[93,29,201,27],[93,30,201,28,"getItemCount"],[93,42,201,40],[93,43,201,41,"props"],[93,48,201,46],[93,49,201,47,"data"],[93,53,201,51],[93,54,201,52],[94,8,202,4],[94,12,203,7],[94,16,203,11],[94,17,203,12,"_config"],[94,24,203,19],[94,25,203,20,"waitForInteraction"],[94,43,203,38],[94,47,203,42],[94,48,203,43],[94,52,203,47],[94,53,203,48,"_hasInteracted"],[94,67,203,62],[94,71,204,6,"itemCount"],[94,80,204,15],[94,85,204,20],[94,86,204,21],[94,90,205,6],[94,91,205,7,"listMetrics"],[94,102,205,18],[94,103,205,19,"getCellMetrics"],[94,117,205,33],[94,118,205,34],[94,119,205,35],[94,121,205,37,"props"],[94,126,205,42],[94,127,205,43],[94,129,206,6],[95,10,207,6],[96,8,208,4],[97,8,209,4],[97,12,209,8,"viewableIndices"],[97,27,209,38],[97,30,209,41],[97,32,209,43],[98,8,210,4],[98,12,210,8,"itemCount"],[98,21,210,17],[98,23,210,19],[99,10,211,6,"viewableIndices"],[99,25,211,21],[99,28,211,24],[99,32,211,28],[99,33,211,29,"computeViewableItems"],[99,53,211,49],[99,54,212,8,"props"],[99,59,212,13],[99,61,213,8,"scrollOffset"],[99,73,213,20],[99,75,214,8,"viewportHeight"],[99,89,214,22],[99,91,215,8,"listMetrics"],[99,102,215,19],[99,104,216,8,"renderRange"],[99,115,217,6],[99,116,217,7],[100,8,218,4],[101,8,219,4],[101,12,220,6],[101,16,220,10],[101,17,220,11,"_viewableIndices"],[101,33,220,27],[101,34,220,28,"length"],[101,40,220,34],[101,45,220,39,"viewableIndices"],[101,60,220,54],[101,61,220,55,"length"],[101,67,220,61],[101,71,221,6],[101,75,221,10],[101,76,221,11,"_viewableIndices"],[101,92,221,27],[101,93,221,28,"every"],[101,98,221,33],[101,99,221,34],[101,109,221,35,"v"],[101,110,221,36],[101,112,221,38,"ii"],[101,114,221,40],[102,10,221,40],[102,17,221,45,"v"],[102,18,221,46],[102,23,221,51,"viewableIndices"],[102,38,221,66],[102,39,221,67,"ii"],[102,41,221,69],[102,42,221,70],[103,8,221,70],[103,10,221,71],[103,12,222,6],[104,10,225,6],[105,8,226,4],[106,8,227,4],[106,12,227,8],[106,13,227,9,"_viewableIndices"],[106,29,227,25],[106,32,227,28,"viewableIndices"],[106,47,227,43],[107,8,228,4],[107,12,228,8],[107,16,228,12],[107,17,228,13,"_config"],[107,24,228,20],[107,25,228,21,"minimumViewTime"],[107,40,228,36],[107,42,228,38],[108,10,229,6],[108,14,229,12,"handle"],[108,20,229,29],[108,23,229,32,"setTimeout"],[108,33,229,42],[108,34,229,43],[108,46,229,49],[109,12,233,8,"_this"],[109,17,233,12],[109,18,233,13,"_timers"],[109,25,233,20],[109,26,233,21,"delete"],[109,32,233,27],[109,33,233,28,"handle"],[109,39,233,34],[109,40,233,35],[110,12,234,8,"_this"],[110,17,234,12],[110,18,234,13,"_onUpdateSync"],[110,31,234,26],[110,32,235,10,"props"],[110,37,235,15],[110,39,236,10,"viewableIndices"],[110,54,236,25],[110,56,237,10,"onViewableItemsChanged"],[110,78,237,32],[110,80,238,10,"createViewToken"],[110,95,239,8],[110,96,239,9],[111,10,240,6],[111,11,240,7],[111,13,240,9],[111,17,240,13],[111,18,240,14,"_config"],[111,25,240,21],[111,26,240,22,"minimumViewTime"],[111,41,240,37],[111,42,240,38],[112,10,244,6],[112,14,244,10],[112,15,244,11,"_timers"],[112,22,244,18],[112,23,244,19,"add"],[112,26,244,22],[112,27,244,23,"handle"],[112,33,244,29],[112,34,244,30],[113,8,245,4],[113,9,245,5],[113,15,245,11],[114,10,246,6],[114,14,246,10],[114,15,246,11,"_onUpdateSync"],[114,28,246,24],[114,29,247,8,"props"],[114,34,247,13],[114,36,248,8,"viewableIndices"],[114,51,248,23],[114,53,249,8,"onViewableItemsChanged"],[114,75,249,30],[114,77,250,8,"createViewToken"],[114,92,251,6],[114,93,251,7],[115,8,252,4],[116,6,253,2],[117,4,253,3],[118,6,253,3,"key"],[118,9,253,3],[119,6,253,3,"value"],[119,11,253,3],[119,13,258,2],[119,22,258,2,"resetViewableIndices"],[119,42,258,22,"resetViewableIndices"],[119,43,258,22],[119,45,258,25],[120,8,259,4],[120,12,259,8],[120,13,259,9,"_viewableIndices"],[120,29,259,25],[120,32,259,28],[120,34,259,30],[121,6,260,2],[122,4,260,3],[123,6,260,3,"key"],[123,9,260,3],[124,6,260,3,"value"],[124,11,260,3],[124,13,265,2],[124,22,265,2,"recordInteraction"],[124,39,265,19,"recordInteraction"],[124,40,265,19],[124,42,265,22],[125,8,266,4],[125,12,266,8],[125,13,266,9,"_hasInteracted"],[125,27,266,23],[125,30,266,26],[125,34,266,30],[126,6,267,2],[127,4,267,3],[128,6,267,3,"key"],[128,9,267,3],[129,6,267,3,"value"],[129,11,267,3],[129,13,269,2],[129,22,269,2,"_onUpdateSync"],[129,35,269,15,"_onUpdateSync"],[129,36,270,4,"props"],[129,41,270,26],[129,43,271,4,"viewableIndicesToCheck"],[129,65,271,41],[129,67,272,4,"onViewableItemsChanged"],[129,89,276,14],[129,91,277,4,"createViewToken"],[129,106,281,18],[129,108,282,4],[130,8,282,4],[130,12,282,4,"_this2"],[130,18,282,4],[131,8,284,4,"viewableIndicesToCheck"],[131,30,284,26],[131,33,284,29,"viewableIndicesToCheck"],[131,55,284,51],[131,56,284,52,"filter"],[131,62,284,58],[131,63,284,59],[131,73,284,59,"ii"],[131,75,284,61],[132,10,284,61],[132,17,285,6,"_this2"],[132,23,285,10],[132,24,285,11,"_viewableIndices"],[132,40,285,27],[132,41,285,28,"includes"],[132,49,285,36],[132,50,285,37,"ii"],[132,52,285,39],[132,53,285,40],[133,8,285,40],[133,9,286,4],[133,10,286,5],[134,8,287,4],[134,12,287,10,"prevItems"],[134,21,287,19],[134,24,287,22],[134,28,287,26],[134,29,287,27,"_viewableItems"],[134,43,287,41],[135,8,288,4],[135,12,288,10,"nextItems"],[135,21,288,19],[135,24,288,22],[135,28,288,26,"Map"],[135,31,288,29],[135,32,289,6,"viewableIndicesToCheck"],[135,54,289,28],[135,55,289,29,"map"],[135,58,289,32],[135,59,289,33],[135,69,289,33,"ii"],[135,71,289,35],[135,73,289,39],[136,10,290,8],[136,14,290,14,"viewable"],[136,22,290,22],[136,25,290,25,"createViewToken"],[136,40,290,40],[136,41,290,41,"ii"],[136,43,290,43],[136,45,290,45],[136,49,290,49],[136,51,290,51,"props"],[136,56,290,56],[136,57,290,57],[137,10,291,8],[137,17,291,15],[137,18,291,16,"viewable"],[137,26,291,24],[137,27,291,25,"key"],[137,30,291,28],[137,32,291,30,"viewable"],[137,40,291,38],[137,41,291,39],[138,8,292,6],[138,9,292,7],[138,10,293,4],[138,11,293,5],[139,8,295,4],[139,12,295,10,"changed"],[139,19,295,17],[139,22,295,20],[139,24,295,22],[140,8,296,4],[140,17,296,4,"_ref2"],[140,22,296,4],[140,26,296,34,"nextItems"],[140,35,296,43],[140,37,296,45],[141,10,296,45],[141,14,296,45,"_ref3"],[141,19,296,45],[141,26,296,45,"_slicedToArray"],[141,40,296,45],[141,41,296,45,"default"],[141,48,296,45],[141,50,296,45,"_ref2"],[141,55,296,45],[142,10,296,45],[142,14,296,16,"key"],[142,17,296,19],[142,20,296,19,"_ref3"],[142,25,296,19],[143,10,296,19],[143,14,296,21,"viewable"],[143,22,296,29],[143,25,296,29,"_ref3"],[143,30,296,29],[144,10,297,6],[144,14,297,10],[144,15,297,11,"prevItems"],[144,24,297,20],[144,25,297,21,"has"],[144,28,297,24],[144,29,297,25,"key"],[144,32,297,28],[144,33,297,29],[144,35,297,31],[145,12,298,8,"changed"],[145,19,298,15],[145,20,298,16,"push"],[145,24,298,20],[145,25,298,21,"viewable"],[145,33,298,29],[145,34,298,30],[146,10,299,6],[147,8,300,4],[148,8,301,4],[148,17,301,4,"_ref4"],[148,22,301,4],[148,26,301,34,"prevItems"],[148,35,301,43],[148,37,301,45],[149,10,301,45],[149,14,301,45,"_ref5"],[149,19,301,45],[149,26,301,45,"_slicedToArray"],[149,40,301,45],[149,41,301,45,"default"],[149,48,301,45],[149,50,301,45,"_ref4"],[149,55,301,45],[150,10,301,45],[150,14,301,16,"key"],[150,18,301,19],[150,21,301,19,"_ref5"],[150,26,301,19],[151,10,301,19],[151,14,301,21,"viewable"],[151,23,301,29],[151,26,301,29,"_ref5"],[151,31,301,29],[152,10,302,6],[152,14,302,10],[152,15,302,11,"nextItems"],[152,24,302,20],[152,25,302,21,"has"],[152,28,302,24],[152,29,302,25,"key"],[152,33,302,28],[152,34,302,29],[152,36,302,31],[153,12,303,8,"changed"],[153,19,303,15],[153,20,303,16,"push"],[153,24,303,20],[153,25,303,20,"Object"],[153,31,303,20],[153,32,303,20,"assign"],[153,38,303,20],[153,43,303,25,"viewable"],[153,52,303,33],[154,14,303,35,"isViewable"],[154,24,303,45],[154,26,303,47],[155,12,303,52],[155,14,303,53],[155,15,303,54],[156,10,304,6],[157,8,305,4],[158,8,306,4],[158,12,306,8,"changed"],[158,19,306,15],[158,20,306,16,"length"],[158,26,306,22],[158,29,306,25],[158,30,306,26],[158,32,306,28],[159,10,307,6],[159,14,307,10],[159,15,307,11,"_viewableItems"],[159,29,307,25],[159,32,307,28,"nextItems"],[159,41,307,37],[160,10,308,6,"onViewableItemsChanged"],[160,32,308,28],[160,33,308,29],[161,12,309,8,"viewableItems"],[161,25,309,21],[161,27,309,23,"Array"],[161,32,309,28],[161,33,309,29,"from"],[161,37,309,33],[161,38,309,34,"nextItems"],[161,47,309,43],[161,48,309,44,"values"],[161,54,309,50],[161,55,309,51],[161,56,309,52],[161,57,309,53],[162,12,310,8,"changed"],[162,19,310,15],[162,21,310,8,"changed"],[162,28,310,15],[163,12,311,8,"viewabilityConfig"],[163,29,311,25],[163,31,311,27],[163,35,311,31],[163,36,311,32,"_config"],[164,10,312,6],[164,11,312,7],[164,12,312,8],[165,8,313,4],[166,6,314,2],[167,4,314,3],[168,2,314,3],[169,2,317,0],[169,11,317,9,"_isViewable"],[169,22,317,20,"_isViewable"],[169,23,318,2,"viewAreaMode"],[169,35,318,23],[169,37,319,2,"viewablePercentThreshold"],[169,61,319,34],[169,63,320,2,"top"],[169,66,320,13],[169,68,321,2,"bottom"],[169,74,321,16],[169,76,322,2,"viewportHeight"],[169,90,322,24],[169,92,323,2,"itemLength"],[169,102,323,20],[169,104,324,11],[170,4,325,2],[170,8,325,6,"_isEntirelyVisible"],[170,26,325,24],[170,27,325,25,"top"],[170,30,325,28],[170,32,325,30,"bottom"],[170,38,325,36],[170,40,325,38,"viewportHeight"],[170,54,325,52],[170,55,325,53],[170,57,325,55],[171,6,326,4],[171,13,326,11],[171,17,326,15],[172,4,327,2],[172,5,327,3],[172,11,327,9],[173,6,328,4],[173,10,328,10,"pixels"],[173,16,328,16],[173,19,328,19,"_getPixelsVisible"],[173,36,328,36],[173,37,328,37,"top"],[173,40,328,40],[173,42,328,42,"bottom"],[173,48,328,48],[173,50,328,50,"viewportHeight"],[173,64,328,64],[173,65,328,65],[174,6,329,4],[174,10,329,10,"percent"],[174,17,329,17],[174,20,330,6],[174,23,330,9],[174,27,330,13,"viewAreaMode"],[174,39,330,25],[174,42,330,28,"pixels"],[174,48,330,34],[174,51,330,37,"viewportHeight"],[174,65,330,51],[174,68,330,54,"pixels"],[174,74,330,60],[174,77,330,63,"itemLength"],[174,87,330,73],[174,88,330,74],[175,6,331,4],[175,13,331,11,"percent"],[175,20,331,18],[175,24,331,22,"viewablePercentThreshold"],[175,48,331,46],[176,4,332,2],[177,2,333,0],[178,2,335,0],[178,11,335,9,"_getPixelsVisible"],[178,28,335,26,"_getPixelsVisible"],[178,29,336,2,"top"],[178,32,336,13],[178,34,337,2,"bottom"],[178,40,337,16],[178,42,338,2,"viewportHeight"],[178,56,338,24],[178,58,339,10],[179,4,340,2],[179,8,340,8,"visibleHeight"],[179,21,340,21],[179,24,340,24,"Math"],[179,28,340,28],[179,29,340,29,"min"],[179,32,340,32],[179,33,340,33,"bottom"],[179,39,340,39],[179,41,340,41,"viewportHeight"],[179,55,340,55],[179,56,340,56],[179,59,340,59,"Math"],[179,63,340,63],[179,64,340,64,"max"],[179,67,340,67],[179,68,340,68,"top"],[179,71,340,71],[179,73,340,73],[179,74,340,74],[179,75,340,75],[180,4,341,2],[180,11,341,9,"Math"],[180,15,341,13],[180,16,341,14,"max"],[180,19,341,17],[180,20,341,18],[180,21,341,19],[180,23,341,21,"visibleHeight"],[180,36,341,34],[180,37,341,35],[181,2,342,0],[182,2,344,0],[182,11,344,9,"_isEntirelyVisible"],[182,29,344,27,"_isEntirelyVisible"],[182,30,345,2,"top"],[182,33,345,13],[182,35,346,2,"bottom"],[182,41,346,16],[182,43,347,2,"viewportHeight"],[182,57,347,24],[182,59,348,11],[183,4,349,2],[183,11,349,9,"top"],[183,14,349,12],[183,18,349,16],[183,19,349,17],[183,23,349,21,"bottom"],[183,29,349,27],[183,33,349,31,"viewportHeight"],[183,47,349,45],[183,51,349,49,"bottom"],[183,57,349,55],[183,60,349,58,"top"],[183,63,349,61],[184,2,350,0],[185,2,352,0],[185,6,352,0,"_default"],[185,14,352,0],[185,17,352,15,"ViewabilityHelper"],[185,34,352,32],[186,0,352,33],[186,3]],"functionMap":{"names":["<global>","ViewabilityHelper","constructor","dispose","computeViewableItems","onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","resetViewableIndices","recordInteraction","_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;ACiF;ECO;GDI;EEK;GFK;EGK;GHiE;EIM;kCC0C,oCD;2CEQ;OFW;GJa;EOK;GPE;EQK;GRE;ESE;2DCe;wCDC;iCEI;OFG;GTsB;CDC;AaE;CbgB;AcE;CdO;AeE;CfM"},"hasCjsExports":false},"type":"js/module"}]}
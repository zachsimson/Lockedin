{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":32,"index":59}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _storage = require(_dependencyMap[1], \"./storage\");\n  var storage = _interopDefault(_storage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // Get the backend URL\n  // For both web and mobile, we use the full backend URL \n  // because Expo dev server doesn't proxy API requests\n  const getApiUrl = () => {\n    const backendUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n    console.log('[API] EXPO_PUBLIC_BACKEND_URL:', backendUrl);\n\n    // Use the environment variable if available, otherwise use the default\n    if (backendUrl) {\n      return backendUrl;\n    }\n\n    // Fallback for web development\n    if (Platform.default.OS === 'web' && false) {\n      // Use current host if we're on web\n      return window.location.origin;\n    }\n    return 'https://gamblefree.preview.emergentagent.com';\n  };\n  const API_URL = getApiUrl();\n  console.log('[API] Using API_URL:', API_URL);\n  const api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    timeout: 15000 // 15 second timeout\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await storage.default.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    console.log('[API] Request:', config.method?.toUpperCase(), config.baseURL + config.url);\n    return config;\n  });\n\n  // Log responses/errors for debugging\n  api.interceptors.response.use(response => {\n    console.log('[API] Response:', response.status, response.config.url);\n    return response;\n  }, error => {\n    console.error('[API] Error:', error.message, error.config?.url);\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":72,"map":[[12,2,59,0,"Object"],[12,8,59,0],[12,9,59,0,"defineProperty"],[12,23,59,0],[12,24,59,0,"exports"],[12,31,59,0],[13,4,59,0,"enumerable"],[13,14,59,0],[14,4,59,0,"get"],[14,7,59,0],[14,18,59,0,"get"],[14,19,59,0],[15,6,59,0],[15,13,59,0,"_default"],[15,21,59,0],[16,4,59,0],[17,2,59,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_storage"],[20,14,2,0],[20,17,2,0,"require"],[20,24,2,0],[20,25,2,0,"_dependencyMap"],[20,39,2,0],[21,2,2,0],[21,6,2,0,"storage"],[21,13,2,0],[21,16,2,0,"_interopDefault"],[21,31,2,0],[21,32,2,0,"_storage"],[21,40,2,0],[22,2,2,32],[22,6,2,32,"_reactNativeWebDistExportsPlatform"],[22,40,2,32],[22,43,2,32,"require"],[22,50,2,32],[22,51,2,32,"_dependencyMap"],[22,65,2,32],[23,2,2,32],[23,6,2,32,"Platform"],[23,14,2,32],[23,17,2,32,"_interopDefault"],[23,32,2,32],[23,33,2,32,"_reactNativeWebDistExportsPlatform"],[23,67,2,32],[24,2,5,0],[25,2,6,0],[26,2,7,0],[27,2,8,0],[27,8,8,6,"getApiUrl"],[27,17,8,15],[27,20,8,18,"getApiUrl"],[27,21,8,18],[27,26,8,24],[28,4,9,2],[28,10,9,8,"backendUrl"],[28,20,9,18],[28,23,9,21,"process"],[28,30,9,28],[28,31,9,29,"env"],[28,34,9,32],[28,35,9,33,"EXPO_PUBLIC_BACKEND_URL"],[28,58,9,56],[29,4,10,2,"console"],[29,11,10,9],[29,12,10,10,"log"],[29,15,10,13],[29,16,10,14],[29,48,10,46],[29,50,10,48,"backendUrl"],[29,60,10,58],[29,61,10,59],[31,4,12,2],[32,4,13,2],[32,8,13,6,"backendUrl"],[32,18,13,16],[32,20,13,18],[33,6,14,4],[33,13,14,11,"backendUrl"],[33,23,14,21],[34,4,15,2],[36,4,17,2],[37,4,18,2],[37,8,18,6,"Platform"],[37,16,18,14],[37,17,18,14,"default"],[37,24,18,14],[37,25,18,15,"OS"],[37,27,18,17],[37,32,18,22],[37,37,18,27],[37,46,18,60],[37,48,18,62],[38,6,19,4],[39,6,20,4],[39,13,20,11,"window"],[39,19,20,17],[39,20,20,18,"location"],[39,28,20,26],[39,29,20,27,"origin"],[39,35,20,33],[40,4,21,2],[41,4,23,2],[41,11,23,9],[41,57,23,55],[42,2,24,0],[42,3,24,1],[43,2,26,0],[43,8,26,6,"API_URL"],[43,15,26,13],[43,18,26,16,"getApiUrl"],[43,27,26,25],[43,28,26,26],[43,29,26,27],[44,2,27,0,"console"],[44,9,27,7],[44,10,27,8,"log"],[44,13,27,11],[44,14,27,12],[44,36,27,34],[44,38,27,36,"API_URL"],[44,45,27,43],[44,46,27,44],[45,2,29,0],[45,8,29,6,"api"],[45,11,29,9],[45,14,29,12,"axios"],[45,19,29,17],[45,20,29,17,"default"],[45,27,29,17],[45,28,29,18,"create"],[45,34,29,24],[45,35,29,25],[46,4,30,2,"baseURL"],[46,11,30,9],[46,13,30,11,"API_URL"],[46,20,30,18],[47,4,31,2,"headers"],[47,11,31,9],[47,13,31,11],[48,6,32,4],[48,20,32,18],[48,22,32,20],[49,4,33,2],[49,5,33,3],[50,4,34,2,"timeout"],[50,11,34,9],[50,13,34,11],[50,18,34,16],[50,19,34,18],[51,2,35,0],[51,3,35,1],[51,4,35,2],[53,2,37,0],[54,2,38,0,"api"],[54,5,38,3],[54,6,38,4,"interceptors"],[54,18,38,16],[54,19,38,17,"request"],[54,26,38,24],[54,27,38,25,"use"],[54,30,38,28],[54,31,38,29],[54,37,38,36,"config"],[54,43,38,42],[54,47,38,47],[55,4,39,2],[55,10,39,8,"token"],[55,15,39,13],[55,18,39,16],[55,24,39,22,"storage"],[55,31,39,29],[55,32,39,29,"default"],[55,39,39,29],[55,40,39,30,"getItem"],[55,47,39,37],[55,48,39,38],[55,59,39,49],[55,60,39,50],[56,4,40,2],[56,8,40,6,"token"],[56,13,40,11],[56,15,40,13],[57,6,41,4,"config"],[57,12,41,10],[57,13,41,11,"headers"],[57,20,41,18],[57,21,41,19,"Authorization"],[57,34,41,32],[57,37,41,35],[57,47,41,45,"token"],[57,52,41,50],[57,54,41,52],[58,4,42,2],[59,4,43,2,"console"],[59,11,43,9],[59,12,43,10,"log"],[59,15,43,13],[59,16,43,14],[59,32,43,30],[59,34,43,32,"config"],[59,40,43,38],[59,41,43,39,"method"],[59,47,43,45],[59,49,43,47,"toUpperCase"],[59,60,43,58],[59,61,43,59],[59,62,43,60],[59,64,43,62,"config"],[59,70,43,68],[59,71,43,69,"baseURL"],[59,78,43,76],[59,81,43,79,"config"],[59,87,43,85],[59,88,43,86,"url"],[59,91,43,89],[59,92,43,90],[60,4,44,2],[60,11,44,9,"config"],[60,17,44,15],[61,2,45,0],[61,3,45,1],[61,4,45,2],[63,2,47,0],[64,2,48,0,"api"],[64,5,48,3],[64,6,48,4,"interceptors"],[64,18,48,16],[64,19,48,17,"response"],[64,27,48,25],[64,28,48,26,"use"],[64,31,48,29],[64,32,49,3,"response"],[64,40,49,11],[64,44,49,16],[65,4,50,4,"console"],[65,11,50,11],[65,12,50,12,"log"],[65,15,50,15],[65,16,50,16],[65,33,50,33],[65,35,50,35,"response"],[65,43,50,43],[65,44,50,44,"status"],[65,50,50,50],[65,52,50,52,"response"],[65,60,50,60],[65,61,50,61,"config"],[65,67,50,67],[65,68,50,68,"url"],[65,71,50,71],[65,72,50,72],[66,4,51,4],[66,11,51,11,"response"],[66,19,51,19],[67,2,52,2],[67,3,52,3],[67,5,53,3,"error"],[67,10,53,8],[67,14,53,13],[68,4,54,4,"console"],[68,11,54,11],[68,12,54,12,"error"],[68,17,54,17],[68,18,54,18],[68,32,54,32],[68,34,54,34,"error"],[68,39,54,39],[68,40,54,40,"message"],[68,47,54,47],[68,49,54,49,"error"],[68,54,54,54],[68,55,54,55,"config"],[68,61,54,61],[68,63,54,63,"url"],[68,66,54,66],[68,67,54,67],[69,4,55,4],[69,11,55,11,"Promise"],[69,18,55,18],[69,19,55,19,"reject"],[69,25,55,25],[69,26,55,26,"error"],[69,31,55,31],[69,32,55,32],[70,2,56,2],[70,3,57,0],[70,4,57,1],[71,2,59,0],[71,6,59,0,"_default"],[71,14,59,0],[71,17,59,15,"api"],[71,20,59,18],[72,0,59,19],[72,3]],"functionMap":{"names":["<global>","getApiUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;kBCO;CDgB;6BEc;CFO;EGI;GHG;EIC;GJG"},"hasCjsExports":false},"type":"js/module"}]}
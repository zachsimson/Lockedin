{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":32,"index":59}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _storage = require(_dependencyMap[1], \"./storage\");\n  var storage = _interopDefault(_storage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // For mobile (Expo Go), we need the full backend URL\n  // For web, we can use relative URLs since both are served from same domain\n  const getApiUrl = () => {\n    // On web, use relative URLs (empty string)\n    if (Platform.default.OS === 'web') {\n      return '';\n    }\n\n    // On mobile, use the environment variable\n    const backendUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n    console.log('[API] Backend URL:', backendUrl);\n    return backendUrl || 'https://gamblefree.preview.emergentagent.com';\n  };\n  const API_URL = getApiUrl();\n  console.log('[API] Using API_URL:', API_URL);\n  const api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    timeout: 15000 // 15 second timeout\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await storage.default.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    console.log('[API] Request:', config.method?.toUpperCase(), config.url);\n    return config;\n  });\n\n  // Log responses/errors for debugging\n  api.interceptors.response.use(response => {\n    console.log('[API] Response:', response.status, response.config.url);\n    return response;\n  }, error => {\n    console.error('[API] Error:', error.message, error.config?.url);\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":66,"map":[[12,2,52,0,"Object"],[12,8,52,0],[12,9,52,0,"defineProperty"],[12,23,52,0],[12,24,52,0,"exports"],[12,31,52,0],[13,4,52,0,"enumerable"],[13,14,52,0],[14,4,52,0,"get"],[14,7,52,0],[14,18,52,0,"get"],[14,19,52,0],[15,6,52,0],[15,13,52,0,"_default"],[15,21,52,0],[16,4,52,0],[17,2,52,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_storage"],[20,14,2,0],[20,17,2,0,"require"],[20,24,2,0],[20,25,2,0,"_dependencyMap"],[20,39,2,0],[21,2,2,0],[21,6,2,0,"storage"],[21,13,2,0],[21,16,2,0,"_interopDefault"],[21,31,2,0],[21,32,2,0,"_storage"],[21,40,2,0],[22,2,2,32],[22,6,2,32,"_reactNativeWebDistExportsPlatform"],[22,40,2,32],[22,43,2,32,"require"],[22,50,2,32],[22,51,2,32,"_dependencyMap"],[22,65,2,32],[23,2,2,32],[23,6,2,32,"Platform"],[23,14,2,32],[23,17,2,32,"_interopDefault"],[23,32,2,32],[23,33,2,32,"_reactNativeWebDistExportsPlatform"],[23,67,2,32],[24,2,5,0],[25,2,6,0],[26,2,7,0],[26,8,7,6,"getApiUrl"],[26,17,7,15],[26,20,7,18,"getApiUrl"],[26,21,7,18],[26,26,7,24],[27,4,8,2],[28,4,9,2],[28,8,9,6,"Platform"],[28,16,9,14],[28,17,9,14,"default"],[28,24,9,14],[28,25,9,15,"OS"],[28,27,9,17],[28,32,9,22],[28,37,9,27],[28,39,9,29],[29,6,10,4],[29,13,10,11],[29,15,10,13],[30,4,11,2],[32,4,13,2],[33,4,14,2],[33,10,14,8,"backendUrl"],[33,20,14,18],[33,23,14,21,"process"],[33,30,14,28],[33,31,14,29,"env"],[33,34,14,32],[33,35,14,33,"EXPO_PUBLIC_BACKEND_URL"],[33,58,14,56],[34,4,15,2,"console"],[34,11,15,9],[34,12,15,10,"log"],[34,15,15,13],[34,16,15,14],[34,36,15,34],[34,38,15,36,"backendUrl"],[34,48,15,46],[34,49,15,47],[35,4,16,2],[35,11,16,9,"backendUrl"],[35,21,16,19],[35,25,16,23],[35,71,16,69],[36,2,17,0],[36,3,17,1],[37,2,19,0],[37,8,19,6,"API_URL"],[37,15,19,13],[37,18,19,16,"getApiUrl"],[37,27,19,25],[37,28,19,26],[37,29,19,27],[38,2,20,0,"console"],[38,9,20,7],[38,10,20,8,"log"],[38,13,20,11],[38,14,20,12],[38,36,20,34],[38,38,20,36,"API_URL"],[38,45,20,43],[38,46,20,44],[39,2,22,0],[39,8,22,6,"api"],[39,11,22,9],[39,14,22,12,"axios"],[39,19,22,17],[39,20,22,17,"default"],[39,27,22,17],[39,28,22,18,"create"],[39,34,22,24],[39,35,22,25],[40,4,23,2,"baseURL"],[40,11,23,9],[40,13,23,11,"API_URL"],[40,20,23,18],[41,4,24,2,"headers"],[41,11,24,9],[41,13,24,11],[42,6,25,4],[42,20,25,18],[42,22,25,20],[43,4,26,2],[43,5,26,3],[44,4,27,2,"timeout"],[44,11,27,9],[44,13,27,11],[44,18,27,16],[44,19,27,18],[45,2,28,0],[45,3,28,1],[45,4,28,2],[47,2,30,0],[48,2,31,0,"api"],[48,5,31,3],[48,6,31,4,"interceptors"],[48,18,31,16],[48,19,31,17,"request"],[48,26,31,24],[48,27,31,25,"use"],[48,30,31,28],[48,31,31,29],[48,37,31,36,"config"],[48,43,31,42],[48,47,31,47],[49,4,32,2],[49,10,32,8,"token"],[49,15,32,13],[49,18,32,16],[49,24,32,22,"storage"],[49,31,32,29],[49,32,32,29,"default"],[49,39,32,29],[49,40,32,30,"getItem"],[49,47,32,37],[49,48,32,38],[49,59,32,49],[49,60,32,50],[50,4,33,2],[50,8,33,6,"token"],[50,13,33,11],[50,15,33,13],[51,6,34,4,"config"],[51,12,34,10],[51,13,34,11,"headers"],[51,20,34,18],[51,21,34,19,"Authorization"],[51,34,34,32],[51,37,34,35],[51,47,34,45,"token"],[51,52,34,50],[51,54,34,52],[52,4,35,2],[53,4,36,2,"console"],[53,11,36,9],[53,12,36,10,"log"],[53,15,36,13],[53,16,36,14],[53,32,36,30],[53,34,36,32,"config"],[53,40,36,38],[53,41,36,39,"method"],[53,47,36,45],[53,49,36,47,"toUpperCase"],[53,60,36,58],[53,61,36,59],[53,62,36,60],[53,64,36,62,"config"],[53,70,36,68],[53,71,36,69,"url"],[53,74,36,72],[53,75,36,73],[54,4,37,2],[54,11,37,9,"config"],[54,17,37,15],[55,2,38,0],[55,3,38,1],[55,4,38,2],[57,2,40,0],[58,2,41,0,"api"],[58,5,41,3],[58,6,41,4,"interceptors"],[58,18,41,16],[58,19,41,17,"response"],[58,27,41,25],[58,28,41,26,"use"],[58,31,41,29],[58,32,42,3,"response"],[58,40,42,11],[58,44,42,16],[59,4,43,4,"console"],[59,11,43,11],[59,12,43,12,"log"],[59,15,43,15],[59,16,43,16],[59,33,43,33],[59,35,43,35,"response"],[59,43,43,43],[59,44,43,44,"status"],[59,50,43,50],[59,52,43,52,"response"],[59,60,43,60],[59,61,43,61,"config"],[59,67,43,67],[59,68,43,68,"url"],[59,71,43,71],[59,72,43,72],[60,4,44,4],[60,11,44,11,"response"],[60,19,44,19],[61,2,45,2],[61,3,45,3],[61,5,46,3,"error"],[61,10,46,8],[61,14,46,13],[62,4,47,4,"console"],[62,11,47,11],[62,12,47,12,"error"],[62,17,47,17],[62,18,47,18],[62,32,47,32],[62,34,47,34,"error"],[62,39,47,39],[62,40,47,40,"message"],[62,47,47,47],[62,49,47,49,"error"],[62,54,47,54],[62,55,47,55,"config"],[62,61,47,61],[62,63,47,63,"url"],[62,66,47,66],[62,67,47,67],[63,4,48,4],[63,11,48,11,"Promise"],[63,18,48,18],[63,19,48,19,"reject"],[63,25,48,25],[63,26,48,26,"error"],[63,31,48,31],[63,32,48,32],[64,2,49,2],[64,3,50,0],[64,4,50,1],[65,2,52,0],[65,6,52,0,"_default"],[65,14,52,0],[65,17,52,15,"api"],[65,20,52,18],[66,0,52,19],[66,3]],"functionMap":{"names":["<global>","getApiUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;kBCM;CDU;6BEc;CFO;EGI;GHG;EIC;GJG"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"IB5HY76c7xC+tDEPCV8b/nK76DU=","exportNames":["*"],"imports":1}},{"name":"@socket.io/component-emitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":55,"index":104}}],"key":"nWmouVdWEVSQD2UwM6teY1JyKBM=","exportNames":["*"],"imports":1}},{"name":"./util.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":105},"end":{"line":3,"column":50,"index":155}}],"key":"+UpHPazG/Yk8JnTjB6d2Eo+vUl4=","exportNames":["*"],"imports":1}},{"name":"./contrib/parseqs.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":156},"end":{"line":4,"column":46,"index":202}}],"key":"BJ+q1MtlpK8TmoXWscM6udPVjkM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"TransportError\", {\n    enumerable: true,\n    get: function () {\n      return TransportError;\n    }\n  });\n  Object.defineProperty(exports, \"Transport\", {\n    enumerable: true,\n    get: function () {\n      return Transport;\n    }\n  });\n  var _engineIoParser = require(_dependencyMap[0], \"engine.io-parser\");\n  var _socketIoComponentEmitter = require(_dependencyMap[1], \"@socket.io/component-emitter\");\n  var _utilJs = require(_dependencyMap[2], \"./util.js\");\n  var _contribParseqsJs = require(_dependencyMap[3], \"./contrib/parseqs.js\");\n  class TransportError extends Error {\n    constructor(reason, description, context) {\n      super(reason);\n      this.description = description;\n      this.context = context;\n      this.type = \"TransportError\";\n    }\n  }\n  class Transport extends _socketIoComponentEmitter.Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n      super();\n      this.writable = false;\n      (0, _utilJs.installTimerFunctions)(this, opts);\n      this.opts = opts;\n      this.query = opts.query;\n      this.socket = opts.socket;\n      this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n      super.emitReserved(\"error\", new TransportError(reason, description, context));\n      return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n      this.readyState = \"opening\";\n      this.doOpen();\n      return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n      if (this.readyState === \"opening\" || this.readyState === \"open\") {\n        this.doClose();\n        this.onClose();\n      }\n      return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n      if (this.readyState === \"open\") {\n        this.write(packets);\n      } else {\n        // this might happen if the transport was silently closed in the beforeunload event handler\n      }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n      this.readyState = \"open\";\n      this.writable = true;\n      super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n      const packet = (0, _engineIoParser.decodePacket)(data, this.socket.binaryType);\n      this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n      super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n      this.readyState = \"closed\";\n      super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) {}\n    createUri(schema, query = {}) {\n      return schema + \"://\" + this._hostname() + this._port() + this.opts.path + this._query(query);\n    }\n    _hostname() {\n      const hostname = this.opts.hostname;\n      return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n      if (this.opts.port && (this.opts.secure && Number(this.opts.port) !== 443 || !this.opts.secure && Number(this.opts.port) !== 80)) {\n        return \":\" + this.opts.port;\n      } else {\n        return \"\";\n      }\n    }\n    _query(query) {\n      const encodedQuery = (0, _contribParseqsJs.encode)(query);\n      return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n  }\n});","lineCount":152,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"TransportError"],[10,27,5,0],[11,4,5,0],[12,2,5,0],[13,2,13,0,"Object"],[13,8,13,0],[13,9,13,0,"defineProperty"],[13,23,13,0],[13,24,13,0,"exports"],[13,31,13,0],[14,4,13,0,"enumerable"],[14,14,13,0],[15,4,13,0,"get"],[15,7,13,0],[15,18,13,0,"get"],[15,19,13,0],[16,6,13,0],[16,13,13,0,"Transport"],[16,22,13,0],[17,4,13,0],[18,2,13,0],[19,2,1,0],[19,6,1,0,"_engineIoParser"],[19,21,1,0],[19,24,1,0,"require"],[19,31,1,0],[19,32,1,0,"_dependencyMap"],[19,46,1,0],[20,2,2,0],[20,6,2,0,"_socketIoComponentEmitter"],[20,31,2,0],[20,34,2,0,"require"],[20,41,2,0],[20,42,2,0,"_dependencyMap"],[20,56,2,0],[21,2,3,0],[21,6,3,0,"_utilJs"],[21,13,3,0],[21,16,3,0,"require"],[21,23,3,0],[21,24,3,0,"_dependencyMap"],[21,38,3,0],[22,2,4,0],[22,6,4,0,"_contribParseqsJs"],[22,23,4,0],[22,26,4,0,"require"],[22,33,4,0],[22,34,4,0,"_dependencyMap"],[22,48,4,0],[23,2,5,7],[23,8,5,13,"TransportError"],[23,22,5,27],[23,31,5,36,"Error"],[23,36,5,41],[23,37,5,42],[24,4,6,4,"constructor"],[24,15,6,15,"constructor"],[24,16,6,16,"reason"],[24,22,6,22],[24,24,6,24,"description"],[24,35,6,35],[24,37,6,37,"context"],[24,44,6,44],[24,46,6,46],[25,6,7,8],[25,11,7,13],[25,12,7,14,"reason"],[25,18,7,20],[25,19,7,21],[26,6,8,8],[26,10,8,12],[26,11,8,13,"description"],[26,22,8,24],[26,25,8,27,"description"],[26,36,8,38],[27,6,9,8],[27,10,9,12],[27,11,9,13,"context"],[27,18,9,20],[27,21,9,23,"context"],[27,28,9,30],[28,6,10,8],[28,10,10,12],[28,11,10,13,"type"],[28,15,10,17],[28,18,10,20],[28,34,10,36],[29,4,11,4],[30,2,12,0],[31,2,13,7],[31,8,13,13,"Transport"],[31,17,13,22],[31,26,13,31,"Emitter"],[31,51,13,38],[31,52,13,38,"Emitter"],[31,59,13,38],[31,60,13,39],[32,4,14,4],[33,0,15,0],[34,0,16,0],[35,0,17,0],[36,0,18,0],[37,0,19,0],[38,4,20,4,"constructor"],[38,15,20,15,"constructor"],[38,16,20,16,"opts"],[38,20,20,20],[38,22,20,22],[39,6,21,8],[39,11,21,13],[39,12,21,14],[39,13,21,15],[40,6,22,8],[40,10,22,12],[40,11,22,13,"writable"],[40,19,22,21],[40,22,22,24],[40,27,22,29],[41,6,23,8],[41,10,23,8,"installTimerFunctions"],[41,17,23,29],[41,18,23,29,"installTimerFunctions"],[41,39,23,29],[41,41,23,30],[41,45,23,34],[41,47,23,36,"opts"],[41,51,23,40],[41,52,23,41],[42,6,24,8],[42,10,24,12],[42,11,24,13,"opts"],[42,15,24,17],[42,18,24,20,"opts"],[42,22,24,24],[43,6,25,8],[43,10,25,12],[43,11,25,13,"query"],[43,16,25,18],[43,19,25,21,"opts"],[43,23,25,25],[43,24,25,26,"query"],[43,29,25,31],[44,6,26,8],[44,10,26,12],[44,11,26,13,"socket"],[44,17,26,19],[44,20,26,22,"opts"],[44,24,26,26],[44,25,26,27,"socket"],[44,31,26,33],[45,6,27,8],[45,10,27,12],[45,11,27,13,"supportsBinary"],[45,25,27,27],[45,28,27,30],[45,29,27,31,"opts"],[45,33,27,35],[45,34,27,36,"forceBase64"],[45,45,27,47],[46,4,28,4],[47,4,29,4],[48,0,30,0],[49,0,31,0],[50,0,32,0],[51,0,33,0],[52,0,34,0],[53,0,35,0],[54,0,36,0],[55,0,37,0],[56,4,38,4,"onError"],[56,11,38,11,"onError"],[56,12,38,12,"reason"],[56,18,38,18],[56,20,38,20,"description"],[56,31,38,31],[56,33,38,33,"context"],[56,40,38,40],[56,42,38,42],[57,6,39,8],[57,11,39,13],[57,12,39,14,"emitReserved"],[57,24,39,26],[57,25,39,27],[57,32,39,34],[57,34,39,36],[57,38,39,40,"TransportError"],[57,52,39,54],[57,53,39,55,"reason"],[57,59,39,61],[57,61,39,63,"description"],[57,72,39,74],[57,74,39,76,"context"],[57,81,39,83],[57,82,39,84],[57,83,39,85],[58,6,40,8],[58,13,40,15],[58,17,40,19],[59,4,41,4],[60,4,42,4],[61,0,43,0],[62,0,44,0],[63,4,45,4,"open"],[63,8,45,8,"open"],[63,9,45,8],[63,11,45,11],[64,6,46,8],[64,10,46,12],[64,11,46,13,"readyState"],[64,21,46,23],[64,24,46,26],[64,33,46,35],[65,6,47,8],[65,10,47,12],[65,11,47,13,"doOpen"],[65,17,47,19],[65,18,47,20],[65,19,47,21],[66,6,48,8],[66,13,48,15],[66,17,48,19],[67,4,49,4],[68,4,50,4],[69,0,51,0],[70,0,52,0],[71,4,53,4,"close"],[71,9,53,9,"close"],[71,10,53,9],[71,12,53,12],[72,6,54,8],[72,10,54,12],[72,14,54,16],[72,15,54,17,"readyState"],[72,25,54,27],[72,30,54,32],[72,39,54,41],[72,43,54,45],[72,47,54,49],[72,48,54,50,"readyState"],[72,58,54,60],[72,63,54,65],[72,69,54,71],[72,71,54,73],[73,8,55,12],[73,12,55,16],[73,13,55,17,"doClose"],[73,20,55,24],[73,21,55,25],[73,22,55,26],[74,8,56,12],[74,12,56,16],[74,13,56,17,"onClose"],[74,20,56,24],[74,21,56,25],[74,22,56,26],[75,6,57,8],[76,6,58,8],[76,13,58,15],[76,17,58,19],[77,4,59,4],[78,4,60,4],[79,0,61,0],[80,0,62,0],[81,0,63,0],[82,0,64,0],[83,4,65,4,"send"],[83,8,65,8,"send"],[83,9,65,9,"packets"],[83,16,65,16],[83,18,65,18],[84,6,66,8],[84,10,66,12],[84,14,66,16],[84,15,66,17,"readyState"],[84,25,66,27],[84,30,66,32],[84,36,66,38],[84,38,66,40],[85,8,67,12],[85,12,67,16],[85,13,67,17,"write"],[85,18,67,22],[85,19,67,23,"packets"],[85,26,67,30],[85,27,67,31],[86,6,68,8],[86,7,68,9],[86,13,69,13],[87,8,70,12],[88,6,70,12],[89,4,72,4],[90,4,73,4],[91,0,74,0],[92,0,75,0],[93,0,76,0],[94,0,77,0],[95,4,78,4,"onOpen"],[95,10,78,10,"onOpen"],[95,11,78,10],[95,13,78,13],[96,6,79,8],[96,10,79,12],[96,11,79,13,"readyState"],[96,21,79,23],[96,24,79,26],[96,30,79,32],[97,6,80,8],[97,10,80,12],[97,11,80,13,"writable"],[97,19,80,21],[97,22,80,24],[97,26,80,28],[98,6,81,8],[98,11,81,13],[98,12,81,14,"emitReserved"],[98,24,81,26],[98,25,81,27],[98,31,81,33],[98,32,81,34],[99,4,82,4],[100,4,83,4],[101,0,84,0],[102,0,85,0],[103,0,86,0],[104,0,87,0],[105,0,88,0],[106,4,89,4,"onData"],[106,10,89,10,"onData"],[106,11,89,11,"data"],[106,15,89,15],[106,17,89,17],[107,6,90,8],[107,12,90,14,"packet"],[107,18,90,20],[107,21,90,23],[107,25,90,23,"decodePacket"],[107,40,90,35],[107,41,90,35,"decodePacket"],[107,53,90,35],[107,55,90,36,"data"],[107,59,90,40],[107,61,90,42],[107,65,90,46],[107,66,90,47,"socket"],[107,72,90,53],[107,73,90,54,"binaryType"],[107,83,90,64],[107,84,90,65],[108,6,91,8],[108,10,91,12],[108,11,91,13,"onPacket"],[108,19,91,21],[108,20,91,22,"packet"],[108,26,91,28],[108,27,91,29],[109,4,92,4],[110,4,93,4],[111,0,94,0],[112,0,95,0],[113,0,96,0],[114,0,97,0],[115,4,98,4,"onPacket"],[115,12,98,12,"onPacket"],[115,13,98,13,"packet"],[115,19,98,19],[115,21,98,21],[116,6,99,8],[116,11,99,13],[116,12,99,14,"emitReserved"],[116,24,99,26],[116,25,99,27],[116,33,99,35],[116,35,99,37,"packet"],[116,41,99,43],[116,42,99,44],[117,4,100,4],[118,4,101,4],[119,0,102,0],[120,0,103,0],[121,0,104,0],[122,0,105,0],[123,4,106,4,"onClose"],[123,11,106,11,"onClose"],[123,12,106,12,"details"],[123,19,106,19],[123,21,106,21],[124,6,107,8],[124,10,107,12],[124,11,107,13,"readyState"],[124,21,107,23],[124,24,107,26],[124,32,107,34],[125,6,108,8],[125,11,108,13],[125,12,108,14,"emitReserved"],[125,24,108,26],[125,25,108,27],[125,32,108,34],[125,34,108,36,"details"],[125,41,108,43],[125,42,108,44],[126,4,109,4],[127,4,110,4],[128,0,111,0],[129,0,112,0],[130,0,113,0],[131,0,114,0],[132,4,115,4,"pause"],[132,9,115,9,"pause"],[132,10,115,10,"onPause"],[132,17,115,17],[132,19,115,19],[132,20,115,21],[133,4,116,4,"createUri"],[133,13,116,13,"createUri"],[133,14,116,14,"schema"],[133,20,116,20],[133,22,116,22,"query"],[133,27,116,27],[133,30,116,30],[133,31,116,31],[133,32,116,32],[133,34,116,34],[134,6,117,8],[134,13,117,16,"schema"],[134,19,117,22],[134,22,118,12],[134,27,118,17],[134,30,119,12],[134,34,119,16],[134,35,119,17,"_hostname"],[134,44,119,26],[134,45,119,27],[134,46,119,28],[134,49,120,12],[134,53,120,16],[134,54,120,17,"_port"],[134,59,120,22],[134,60,120,23],[134,61,120,24],[134,64,121,12],[134,68,121,16],[134,69,121,17,"opts"],[134,73,121,21],[134,74,121,22,"path"],[134,78,121,26],[134,81,122,12],[134,85,122,16],[134,86,122,17,"_query"],[134,92,122,23],[134,93,122,24,"query"],[134,98,122,29],[134,99,122,30],[135,4,123,4],[136,4,124,4,"_hostname"],[136,13,124,13,"_hostname"],[136,14,124,13],[136,16,124,16],[137,6,125,8],[137,12,125,14,"hostname"],[137,20,125,22],[137,23,125,25],[137,27,125,29],[137,28,125,30,"opts"],[137,32,125,34],[137,33,125,35,"hostname"],[137,41,125,43],[138,6,126,8],[138,13,126,15,"hostname"],[138,21,126,23],[138,22,126,24,"indexOf"],[138,29,126,31],[138,30,126,32],[138,33,126,35],[138,34,126,36],[138,39,126,41],[138,40,126,42],[138,41,126,43],[138,44,126,46,"hostname"],[138,52,126,54],[138,55,126,57],[138,58,126,60],[138,61,126,63,"hostname"],[138,69,126,71],[138,72,126,74],[138,75,126,77],[139,4,127,4],[140,4,128,4,"_port"],[140,9,128,9,"_port"],[140,10,128,9],[140,12,128,12],[141,6,129,8],[141,10,129,12],[141,14,129,16],[141,15,129,17,"opts"],[141,19,129,21],[141,20,129,22,"port"],[141,24,129,26],[141,29,130,14],[141,33,130,18],[141,34,130,19,"opts"],[141,38,130,23],[141,39,130,24,"secure"],[141,45,130,30],[141,49,130,34,"Number"],[141,55,130,40],[141,56,130,41],[141,60,130,45],[141,61,130,46,"opts"],[141,65,130,50],[141,66,130,51,"port"],[141,70,130,55],[141,71,130,56],[141,76,130,61],[141,79,130,64],[141,83,131,17],[141,84,131,18],[141,88,131,22],[141,89,131,23,"opts"],[141,93,131,27],[141,94,131,28,"secure"],[141,100,131,34],[141,104,131,38,"Number"],[141,110,131,44],[141,111,131,45],[141,115,131,49],[141,116,131,50,"opts"],[141,120,131,54],[141,121,131,55,"port"],[141,125,131,59],[141,126,131,60],[141,131,131,65],[141,133,131,68],[141,134,131,69],[141,136,131,71],[142,8,132,12],[142,15,132,19],[142,18,132,22],[142,21,132,25],[142,25,132,29],[142,26,132,30,"opts"],[142,30,132,34],[142,31,132,35,"port"],[142,35,132,39],[143,6,133,8],[143,7,133,9],[143,13,134,13],[144,8,135,12],[144,15,135,19],[144,17,135,21],[145,6,136,8],[146,4,137,4],[147,4,138,4,"_query"],[147,10,138,10,"_query"],[147,11,138,11,"query"],[147,16,138,16],[147,18,138,18],[148,6,139,8],[148,12,139,14,"encodedQuery"],[148,24,139,26],[148,27,139,29],[148,31,139,29,"encode"],[148,48,139,35],[148,49,139,35,"encode"],[148,55,139,35],[148,57,139,36,"query"],[148,62,139,41],[148,63,139,42],[149,6,140,8],[149,13,140,15,"encodedQuery"],[149,25,140,27],[149,26,140,28,"length"],[149,32,140,34],[149,35,140,37],[149,38,140,40],[149,41,140,43,"encodedQuery"],[149,53,140,55],[149,56,140,58],[149,58,140,60],[150,4,141,4],[151,2,142,0],[152,0,142,1],[152,3]],"functionMap":{"names":["<global>","TransportError","TransportError#constructor","Transport","Transport#constructor","Transport#onError","Transport#open","Transport#close","Transport#send","Transport#onOpen","Transport#onData","Transport#onPacket","Transport#onClose","Transport#pause","Transport#createUri","Transport#_hostname","Transport#_port","Transport#_query"],"mappings":"AAA;OCI;ICC;KDK;CDC;OGC;ICO;KDQ;IEU;KFG;IGI;KHI;III;KJM;IKM;KLO;IMM;KNI;IOO;KPG;IQM;KRE;ISM;KTG;IUM,kBV;IWC;KXO;IYC;KZG;IaC;KbS;IcC;KdG;CHC"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":32,"index":59}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _storage = require(_dependencyMap[2], \"./storage\");\n  var storage = _interopDefault(_storage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // Get the backend URL from environment variable\n  // EXPO_PUBLIC_BACKEND_URL must be set in .env for both web and mobile\n  const getApiUrl = () => {\n    const backendUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    console.log('[API] EXPO_PUBLIC_BACKEND_URL:', backendUrl);\n\n    // Use the environment variable if available\n    if (backendUrl) {\n      return backendUrl;\n    }\n\n    // Fallback for web development only - use current origin\n    if (Platform.default.OS === 'web' && typeof window !== 'undefined') {\n      return window.location.origin;\n    }\n\n    // For mobile, EXPO_PUBLIC_BACKEND_URL must be set\n    console.warn('[API] EXPO_PUBLIC_BACKEND_URL not set - API calls may fail on mobile');\n    return '';\n  };\n  const API_URL = getApiUrl();\n  console.log('[API] Using API_URL:', API_URL);\n  const api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    timeout: 15000 // 15 second timeout\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await storage.default.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    console.log('[API] Request:', config.method?.toUpperCase(), config.baseURL + config.url);\n    return config;\n  });\n\n  // Log responses/errors for debugging\n  api.interceptors.response.use(response => {\n    console.log('[API] Response:', response.status, response.config.url);\n    return response;\n  }, error => {\n    console.error('[API] Error:', error.message, error.config?.url);\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":74,"map":[[12,2,59,0,"Object"],[12,8,59,0],[12,9,59,0,"defineProperty"],[12,23,59,0],[12,24,59,0,"exports"],[12,31,59,0],[13,4,59,0,"enumerable"],[13,14,59,0],[14,4,59,0,"get"],[14,7,59,0],[14,18,59,0,"get"],[14,19,59,0],[15,6,59,0],[15,13,59,0,"_default"],[15,21,59,0],[16,4,59,0],[17,2,59,0],[18,2,59,19],[18,6,59,19,"_expoVirtualEnv"],[18,21,59,19],[18,24,59,19,"require"],[18,31,59,19],[18,32,59,19,"_dependencyMap"],[18,46,59,19],[19,2,1,0],[19,6,1,0,"_axios"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"axios"],[20,11,1,0],[20,14,1,0,"_interopDefault"],[20,29,1,0],[20,30,1,0,"_axios"],[20,36,1,0],[21,2,2,0],[21,6,2,0,"_storage"],[21,14,2,0],[21,17,2,0,"require"],[21,24,2,0],[21,25,2,0,"_dependencyMap"],[21,39,2,0],[22,2,2,0],[22,6,2,0,"storage"],[22,13,2,0],[22,16,2,0,"_interopDefault"],[22,31,2,0],[22,32,2,0,"_storage"],[22,40,2,0],[23,2,2,32],[23,6,2,32,"_reactNativeWebDistExportsPlatform"],[23,40,2,32],[23,43,2,32,"require"],[23,50,2,32],[23,51,2,32,"_dependencyMap"],[23,65,2,32],[24,2,2,32],[24,6,2,32,"Platform"],[24,14,2,32],[24,17,2,32,"_interopDefault"],[24,32,2,32],[24,33,2,32,"_reactNativeWebDistExportsPlatform"],[24,67,2,32],[25,2,5,0],[26,2,6,0],[27,2,7,0],[27,8,7,6,"getApiUrl"],[27,17,7,15],[27,20,7,18,"getApiUrl"],[27,21,7,18],[27,26,7,24],[28,4,8,2],[28,10,8,8,"backendUrl"],[28,20,8,18],[28,23,8,18,"_expoVirtualEnv"],[28,38,8,18],[28,39,8,18,"env"],[28,42,8,18],[28,43,8,18,"EXPO_PUBLIC_BACKEND_URL"],[28,66,8,56],[29,4,9,2,"console"],[29,11,9,9],[29,12,9,10,"log"],[29,15,9,13],[29,16,9,14],[29,48,9,46],[29,50,9,48,"backendUrl"],[29,60,9,58],[29,61,9,59],[31,4,11,2],[32,4,12,2],[32,8,12,6,"backendUrl"],[32,18,12,16],[32,20,12,18],[33,6,13,4],[33,13,13,11,"backendUrl"],[33,23,13,21],[34,4,14,2],[36,4,16,2],[37,4,17,2],[37,8,17,6,"Platform"],[37,16,17,14],[37,17,17,14,"default"],[37,24,17,14],[37,25,17,15,"OS"],[37,27,17,17],[37,32,17,22],[37,37,17,27],[37,41,17,31],[37,48,17,38,"window"],[37,54,17,44],[37,59,17,49],[37,70,17,60],[37,72,17,62],[38,6,18,4],[38,13,18,11,"window"],[38,19,18,17],[38,20,18,18,"location"],[38,28,18,26],[38,29,18,27,"origin"],[38,35,18,33],[39,4,19,2],[41,4,21,2],[42,4,22,2,"console"],[42,11,22,9],[42,12,22,10,"warn"],[42,16,22,14],[42,17,22,15],[42,87,22,85],[42,88,22,86],[43,4,23,2],[43,11,23,9],[43,13,23,11],[44,2,24,0],[44,3,24,1],[45,2,26,0],[45,8,26,6,"API_URL"],[45,15,26,13],[45,18,26,16,"getApiUrl"],[45,27,26,25],[45,28,26,26],[45,29,26,27],[46,2,27,0,"console"],[46,9,27,7],[46,10,27,8,"log"],[46,13,27,11],[46,14,27,12],[46,36,27,34],[46,38,27,36,"API_URL"],[46,45,27,43],[46,46,27,44],[47,2,29,0],[47,8,29,6,"api"],[47,11,29,9],[47,14,29,12,"axios"],[47,19,29,17],[47,20,29,17,"default"],[47,27,29,17],[47,28,29,18,"create"],[47,34,29,24],[47,35,29,25],[48,4,30,2,"baseURL"],[48,11,30,9],[48,13,30,11,"API_URL"],[48,20,30,18],[49,4,31,2,"headers"],[49,11,31,9],[49,13,31,11],[50,6,32,4],[50,20,32,18],[50,22,32,20],[51,4,33,2],[51,5,33,3],[52,4,34,2,"timeout"],[52,11,34,9],[52,13,34,11],[52,18,34,16],[52,19,34,18],[53,2,35,0],[53,3,35,1],[53,4,35,2],[55,2,37,0],[56,2,38,0,"api"],[56,5,38,3],[56,6,38,4,"interceptors"],[56,18,38,16],[56,19,38,17,"request"],[56,26,38,24],[56,27,38,25,"use"],[56,30,38,28],[56,31,38,29],[56,37,38,36,"config"],[56,43,38,42],[56,47,38,47],[57,4,39,2],[57,10,39,8,"token"],[57,15,39,13],[57,18,39,16],[57,24,39,22,"storage"],[57,31,39,29],[57,32,39,29,"default"],[57,39,39,29],[57,40,39,30,"getItem"],[57,47,39,37],[57,48,39,38],[57,59,39,49],[57,60,39,50],[58,4,40,2],[58,8,40,6,"token"],[58,13,40,11],[58,15,40,13],[59,6,41,4,"config"],[59,12,41,10],[59,13,41,11,"headers"],[59,20,41,18],[59,21,41,19,"Authorization"],[59,34,41,32],[59,37,41,35],[59,47,41,45,"token"],[59,52,41,50],[59,54,41,52],[60,4,42,2],[61,4,43,2,"console"],[61,11,43,9],[61,12,43,10,"log"],[61,15,43,13],[61,16,43,14],[61,32,43,30],[61,34,43,32,"config"],[61,40,43,38],[61,41,43,39,"method"],[61,47,43,45],[61,49,43,47,"toUpperCase"],[61,60,43,58],[61,61,43,59],[61,62,43,60],[61,64,43,62,"config"],[61,70,43,68],[61,71,43,69,"baseURL"],[61,78,43,76],[61,81,43,79,"config"],[61,87,43,85],[61,88,43,86,"url"],[61,91,43,89],[61,92,43,90],[62,4,44,2],[62,11,44,9,"config"],[62,17,44,15],[63,2,45,0],[63,3,45,1],[63,4,45,2],[65,2,47,0],[66,2,48,0,"api"],[66,5,48,3],[66,6,48,4,"interceptors"],[66,18,48,16],[66,19,48,17,"response"],[66,27,48,25],[66,28,48,26,"use"],[66,31,48,29],[66,32,49,3,"response"],[66,40,49,11],[66,44,49,16],[67,4,50,4,"console"],[67,11,50,11],[67,12,50,12,"log"],[67,15,50,15],[67,16,50,16],[67,33,50,33],[67,35,50,35,"response"],[67,43,50,43],[67,44,50,44,"status"],[67,50,50,50],[67,52,50,52,"response"],[67,60,50,60],[67,61,50,61,"config"],[67,67,50,67],[67,68,50,68,"url"],[67,71,50,71],[67,72,50,72],[68,4,51,4],[68,11,51,11,"response"],[68,19,51,19],[69,2,52,2],[69,3,52,3],[69,5,53,3,"error"],[69,10,53,8],[69,14,53,13],[70,4,54,4,"console"],[70,11,54,11],[70,12,54,12,"error"],[70,17,54,17],[70,18,54,18],[70,32,54,32],[70,34,54,34,"error"],[70,39,54,39],[70,40,54,40,"message"],[70,47,54,47],[70,49,54,49,"error"],[70,54,54,54],[70,55,54,55,"config"],[70,61,54,61],[70,63,54,63,"url"],[70,66,54,66],[70,67,54,67],[71,4,55,4],[71,11,55,11,"Promise"],[71,18,55,18],[71,19,55,19,"reject"],[71,25,55,25],[71,26,55,26,"error"],[71,31,55,31],[71,32,55,32],[72,2,56,2],[72,3,57,0],[72,4,57,1],[73,2,59,0],[73,6,59,0,"_default"],[73,14,59,0],[73,17,59,15,"api"],[73,20,59,18],[74,0,59,19],[74,3]],"functionMap":{"names":["<global>","getApiUrl","interceptors.request.use$argument_0","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;kBCM;CDiB;6BEc;CFO;EGI;GHG;EIC;GJG"},"hasCjsExports":false},"type":"js/module"}]}